–û—Ç–ª–∏—á–Ω—ã–π –Ω–∞—Å—Ç—Ä–æ–π! –ü–æ–¥—Ö–æ–¥ ¬´–æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –∫ —Å–ª–æ–∂–Ω–æ–º—É¬ª ‚Äî —Å–∞–º—ã–π –≤–µ—Ä–Ω—ã–π –ø—É—Ç—å, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ç–∞–∫–æ–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ, –∫–∞–∫ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è.

–î–∞–≤–∞–π –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –º—ã —Å–∏–¥–∏–º –≤ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ —É –¥–æ—Å–∫–∏. –°–µ–≥–æ–¥–Ω—è –Ω–∞—à–∞ —Ü–µ–ª—å ‚Äî –∑–∞–ª–æ–∂–∏—Ç—å –∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç: –ø–æ–Ω—è—Ç—å, **—á—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**, **–∏–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è** –∏ **–∑–∞—á–µ–º –º—ã –≤–æ–æ–±—â–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ** –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –≤—ã–π—Ç–∏ –Ω–∞ —É–ª–∏—Ü—É —Å –¥–∞—Ç—á–∏–∫–∞–º–∏.

–ì–æ—Ç–æ–≤? –ù–∞—á–∏–Ω–∞–µ–º!

***

### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ ¬´–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ?
–í –±—ã—Ç—É –ø–æ–¥ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –º—ã –ø–æ–Ω–∏–º–∞–µ–º —Ç–æ—á–∫—É –Ω–∞ –∫–∞—Ä—Ç–µ: —à–∏—Ä–æ—Ç—É –∏ –¥–æ–ª–≥–æ—Ç—É. –ù–æ –≤ –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –º–∞–ª–æ. 

–ö–æ–≥–¥–∞ –º—ã –≥–æ–≤–æ—Ä–∏–º –æ –¥–≤–∏–∂–µ–Ω–∏–∏ —Å–ª–æ–∂–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (–±–µ—Å–ø–∏–ª–æ—Ç–Ω–∏–∫–∞, —Ä–∞–∫–µ—Ç—ã, –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏–ª–∏ –∫–æ—Ä–∞–±–ª—è), –º—ã –æ–ø–µ—Ä–∏—Ä—É–µ–º –ø–æ–Ω—è—Ç–∏–µ–º **–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Navigation State)**. –û–Ω–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –±–ª–æ–∫–æ–≤:
1. **–ü–æ–∑–∏—Ü–∏—è (–ì–¥–µ –º—ã?)**: 3D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (X, Y, Z –∏–ª–∏ –®–∏—Ä–æ—Ç–∞, –î–æ–ª–≥–æ—Ç–∞, –í—ã—Å–æ—Ç–∞).
2. **–°–∫–æ—Ä–æ—Å—Ç—å (–ö—É–¥–∞ –∏ –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –º—ã –¥–≤–∏–∂–µ–º—Å—è?)**: 3D-–≤–µ–∫—Ç–æ—Ä —Å–∫–æ—Ä–æ—Å—Ç–∏.
3. **–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è (–ö—É–¥–∞ –º—ã —Å–º–æ—Ç—Ä–∏–º?)**: 3D-—É–≥–ª—ã –ø–æ–≤–æ—Ä–æ—Ç–∞ (–∫—Ä–µ–Ω, —Ç–∞–Ω–≥–∞–∂, —Ä—ã—Å–∫–∞–Ω–∏–µ / roll, pitch, yaw). 

–ò—Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–∏—Å–∞—Ç—å –æ–±—ä–µ–∫—Ç –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –Ω–∞–º –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 9 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.

***

### 2. –°–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–ì–¥–µ –º—ã –º–µ—Ä—è–µ–º?)
–ß—Ç–æ–±—ã —ç—Ç–∏ 9 —Ü–∏—Ñ—Ä –∏–º–µ–ª–∏ —Å–º—ã—Å–ª, –Ω–∞–º –Ω—É–∂–Ω–∞ —Ç–æ—á–∫–∞ –æ—Ç—Å—á–µ—Ç–∞. –í –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (—Ç—ã –∏—Ö —É–∂–µ –≤–∏–¥–µ–ª –≤ —Å–≤–æ–µ–º —Ñ–∞–π–ª–µ `coord_conversion.py`):

*   **ECEF (Earth-Centered, Earth-Fixed):** –ù–∞—á–∞–ª–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —Ü–µ–Ω—Ç—Ä–µ –º–∞—Å—Å –ó–µ–º–ª–∏. –°–∏—Å—Ç–µ–º–∞ –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –ø–ª–∞–Ω–µ—Ç–æ–π. –û—Å—å Z —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –°–µ–≤–µ—Ä–Ω—ã–π –ø–æ–ª—é—Å, –æ—Å—å X ‚Äî –Ω–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —ç–∫–≤–∞—Ç–æ—Ä–∞ –∏ –Ω—É–ª–µ–≤–æ–≥–æ –º–µ—Ä–∏–¥–∏–∞–Ω–∞. –£–¥–æ–±–Ω–∞ –¥–ª—è —Å–ø—É—Ç–Ω–∏–∫–æ–≤ (–æ–Ω–∏ –ª–µ—Ç–∞—é—Ç –≤–æ–∫—Ä—É–≥ —Ü–µ–Ω—Ç—Ä–∞ –ó–µ–º–ª–∏).
*   **LLH (Latitude, Longitude, Height):** –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –≥–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–∏–µ —à–∏—Ä–æ—Ç–∞, –¥–æ–ª–≥–æ—Ç–∞ –∏ –≤—ã—Å–æ—Ç–∞ –Ω–∞–¥ —ç–ª–ª–∏–ø—Å–æ–∏–¥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, WGS84).
*   **ENU (East, North, Up):** –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞. –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã —Å—Ç–æ–∏—à—å –Ω–∞ –∑–µ–º–ª–µ. –û—Å—å X —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –í–æ—Å—Ç–æ–∫, Y ‚Äî –Ω–∞ –°–µ–≤–µ—Ä, Z ‚Äî –≤–≤–µ—Ä—Ö. –í –Ω–µ–π —É–¥–æ–±–Ω–µ–µ –≤—Å–µ–≥–æ —Å—á–∏—Ç–∞—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (–∫–∞–∫ –≤ –õ–†1).
*   **Body frame (–°–≤—è–∑–∞–Ω–Ω–∞—è –°–ö):** –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Å–∞–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –û—Å—å X —Å–º–æ—Ç—Ä–∏—Ç –≤ "–Ω–æ—Å" –º–∞—à–∏–Ω—ã, Y ‚Äî –≤ –ø—Ä–∞–≤–æ–µ –∫—Ä—ã–ª–æ, Z ‚Äî –≤–Ω–∏–∑ –∏–ª–∏ –≤–≤–µ—Ä—Ö. **–ò–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≤–æ–¥—è—Ç –∏–∑–º–µ—Ä–µ–Ω–∏—è –≥–∏—Ä–æ—Å–∫–æ–ø—ã –∏ –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä—ã!**

***

### 3. –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –∏ –∑–∞—á–µ–º –µ—ë –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å? (–°—É—Ç—å —Ç–≤–æ–µ–π –õ–†)

–í —Ç–≤–æ–µ–º –∫–æ–¥–µ (–≤ –º–æ–¥—É–ª–µ `trajectory.py`) —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –Ω–µ –∑–∞–¥–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –Ω–∞–±–æ—Ä–æ–º –≥–æ—Ç–æ–≤—ã—Ö —Ç–æ—á–µ–∫ $(x, y, z)$. –û–Ω–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –∏–∑ —Ñ–∏–∑–∏–∫–∏! 
–¢–∞–º –∑–∞–¥–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã: *"—É—Å–∫–æ—Ä—è—Ç—å—Å—è 5 —Å–µ–∫—É–Ω–¥ —Å —Ç–∞–∫–∏–º-—Ç–æ —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º, –ø–æ—Ç–æ–º –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–æ —Å —Ç–∞–∫–æ–π-—Ç–æ —É–≥–ª–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é"*. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –±–µ—Ä–µ—Ç —ç—Ç–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Å–∏–ª—ã, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –∏—Ö –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø–æ–ª—É—á–∞–µ—Ç —Ç—É —Å–∞–º—É—é –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –ª–∏–Ω–∏—é ‚Äî **–ò–¥–µ–∞–ª—å–Ω—É—é (—ç—Ç–∞–ª–æ–Ω–Ω—É—é) —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é**.

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —ç—Ç–∞–ª–æ–Ω–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è?**
–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –∫—Ä—É—Ç–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º (—Ñ–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞). –ö–∞–∫ –ø–æ–Ω—è—Ç—å, —Ö–æ—Ä–æ—à–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –ø–ª–æ—Ö–æ? –ï—Å–ª–∏ –º—ã –≤—ã–π–¥–µ–º –Ω–∞ —É–ª–∏—Ü—É —Å —Ä–µ–∞–ª—å–Ω—ã–º –¥–∞—Ç—á–∏–∫–æ–º, –º—ã –ø–æ–ª—É—á–∏–º –∫–∞–∫–æ–π-—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–æ –º—ã *–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–∑–Ω–∞–µ–º, –≥–¥–µ –º—ã –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞*. –ù–∞–º –Ω–µ —Å —á–µ–º –±—É–¥–µ—Ç —Å—Ä–∞–≤–Ω–∏—Ç—å –æ—à–∏–±–∫—É!
–ü–æ—ç—Ç–æ–º—É –º—ã —Å–æ–∑–¥–∞–µ–º ¬´–º–∞—Ç—Ä–∏—Ü—É¬ª ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∏—Ä:
1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º *–ò–¥–µ–∞–ª—å–Ω—É—é —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é* (Ground Truth).
2. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–Ω–∞–≤–µ—à–∏–≤–∞–µ–º" –Ω–∞ –Ω–µ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏.
3. –î–æ–±–∞–≤–ª—è–µ–º –≤ —ç—Ç–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏ —à—É–º, –ø–æ–º–µ—Ö–∏ –∏ –∏—Å–∫–∞–∂–µ–Ω–∏—è, –∏–º–∏—Ç–∏—Ä—É—è –∑–∞–∫–æ–Ω—ã —Ñ–∏–∑–∏–∫–∏.
4. –°–∫–∞—Ä–º–ª–∏–≤–∞–µ–º —ç—Ç–∏ "–≥—Ä—è–∑–Ω—ã–µ" –¥–∞–Ω–Ω—ã–µ –Ω–∞—à–µ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É.
5. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ç–æ, —á—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º –æ—á–∏—Å—Ç–∏–ª, —Å *–ò–¥–µ–∞–ª—å–Ω–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–µ–π*, –∏ —Å—á–∏—Ç–∞–µ–º –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (RMSE –≤ –º–µ—Ç—Ä–∞—Ö).

***

### 4. –î–≤–∞ –≥–ª–∞–≤–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

–í—Å—è —Ç–≤–æ—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ (–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ 3-4) —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ –¥–≤—É—Ö —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã—Ö, –Ω–æ –¥–æ–ø–æ–ª–Ω—è—é—â–∏—Ö –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Å–∏—Å—Ç–µ–º. –≠—Ç–æ –∫–∞–∫ –∑—Ä–µ–Ω–∏–µ –∏ –≤–µ—Å—Ç–∏–±—É–ª—è—Ä–Ω—ã–π –∞–ø–ø–∞—Ä–∞—Ç —É —á–µ–ª–æ–≤–µ–∫–∞.

1. **–ì–ù–°–° (GPS, –ì–õ–û–ù–ê–°–°):**
   *   **–ß—Ç–æ –¥–∞–µ—Ç:** –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–∏–∑–º–µ—Ä—è—è –≤—Ä–µ–º—è –ª–µ—Ç–µ —Ä–∞–¥–∏–æ—Å–∏–≥–Ω–∞–ª–∞ –æ—Ç —Å–ø—É—Ç–Ω–∏–∫–æ–≤ ‚Äî –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏).
   *   **–ü–ª—é—Å—ã:** –ù–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –æ—à–∏–±–∫—É —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º. –ï—Å–ª–∏ —Ç—ã —Å—Ç–æ–∏—à—å –Ω–∞ –º–µ—Å—Ç–µ 10 —á–∞—Å–æ–≤, –ì–ù–°–° –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Ç–æ—á–∫—É –≤ —Ä–∞–¥–∏—É—Å–µ 3-5 –º–µ—Ç—Ä–æ–≤.
   *   **–ú–∏–Ω—É—Å—ã:** –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ (1-10 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É). –°–∏–≥–Ω–∞–ª –ª–µ–≥–∫–æ –∑–∞–≥–ª—É—à–∏—Ç—å, –æ–Ω –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –≤ —Ç—É–Ω–Ω–µ–ª—è—Ö, –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –æ—Ç –Ω–µ–±–æ—Å–∫—Ä–µ–±–æ–≤.

2. **–ò–ù–° (–ò–Ω–µ—Ä—Ü–∏–∞–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ - –ò–ú–£):**
   *   **–ß—Ç–æ –¥–∞–µ—Ç:** –ò–∑–º–µ—Ä—è–µ—Ç *–∫–∞–∂—É—â–µ–µ—Å—è —É—Å–∫–æ—Ä–µ–Ω–∏–µ* (–∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä—ã) –∏ *—É–≥–ª–æ–≤—É—é —Å–∫–æ—Ä–æ—Å—Ç—å* –≤—Ä–∞—â–µ–Ω–∏—è (–≥–∏—Ä–æ—Å–∫–æ–ø—ã).
   *   **–ü–ª—é—Å—ã:** –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ (–ø–æ–¥ –∑–µ–º–ª–µ–π, –ø–æ–¥ –≤–æ–¥–æ–π, –≤ –∫–æ—Å–º–æ—Å–µ). –í—ã–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –æ–≥—Ä–æ–º–Ω–æ–π —á–∞—Å—Ç–æ—Ç–æ–π (100, 500, 1000 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É). –ò–¥–µ–∞–ª—å–Ω–æ –≥–ª–∞–¥–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É —Å–µ–∫—É–Ω–¥–∞–º–∏.
   *   **–ú–∏–Ω—É—Å—ã:** –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ —É—Å–∫–æ—Ä–µ–Ω–∏—è, –Ω—É–∂–Ω–æ –¥–≤–∞–∂–¥—ã –≤–∑—è—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞–ª –ø–æ –≤—Ä–µ–º–µ–Ω–∏. –ê –∫–∞–∫ –º—ã –ø–æ–º–Ω–∏–º –∏–∑ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏, –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–∞–ª–µ–π—à–∞—è –æ—à–∏–±–∫–∞ –¥–∞—Ç—á–∏–∫–∞ (—à—É–º) –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Ä–∞—Å—Ç—É—â—É—é –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å. –ë–µ–∑ –ì–ù–°–° –æ—à–∏–±–∫–∞ –ò–ù–° —É–ª–µ—Ç–∞–µ—Ç –Ω–∞ –∫–∏–ª–æ–º–µ—Ç—Ä—ã –∑–∞ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–∏–Ω—É—Ç—ã.

–í —Ç–≤–æ–∏—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö —Ç—ã –∫–∞–∫ —Ä–∞–∑ –∏ —É—á–∏—à—å—Å—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ ¬´–∂–µ–Ω–∏—Ç—å¬ª —ç—Ç–∏ –¥–≤–∞ —Å–µ–Ω—Å–æ—Ä–∞ —á–µ—Ä–µ–∑ –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞, —á—Ç–æ–±—ã –≤–∑—è—Ç—å –ª—É—á—à–µ–µ –æ—Ç –æ–±–æ–∏—Ö.

***

### üìù –ù–µ–±–æ–ª—å—à–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ (–í–æ–ø—Ä–æ—Å)

–ß—Ç–æ–±—ã —è –ø–æ–Ω–∏–º–∞–ª, —á—Ç–æ –º—ã —Å —Ç–æ–±–æ–π –Ω–∞ –æ–¥–Ω–æ–π –≤–æ–ª–Ω–µ, –æ—Ç–≤–µ—Ç—å –Ω–∞ —Ç–∞–∫–æ–π –Ω–µ–±–æ–ª—å—à–æ–π –≤–æ–ø—Ä–æ—Å-—Å–∏—Ç—É–∞—Ü–∏—é (—Å–≤–æ–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –∫–∞–∫ –ø–æ–Ω–∏–º–∞–µ—à—å):

*–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –Ω–∞—à—É —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ì–ù–°–°-–ò–ù–° —Å–∏—Å—Ç–µ–º—É –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—å. –ú–∞—à–∏–Ω–∞ –µ–¥–µ—Ç –ø–æ —É–ª–∏—Ü–µ (–≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç), –∞ –∑–∞—Ç–µ–º –∑–∞–µ–∑–∂–∞–µ—Ç –≤ –¥–ª–∏–Ω–Ω—ã–π –ø–æ–¥–∑–µ–º–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å, –≥–¥–µ –µ–¥–µ—Ç —Ü–µ–ª—É—é –º–∏–Ω—É—Ç—É, –º–µ–Ω—è—è –ø–æ–ª–æ—Å—ã –∏ —Å–∫–æ—Ä–æ—Å—Ç—å, –∞ –ø–æ—Ç–æ–º –≤—ã–µ–∑–∂–∞–µ—Ç –Ω–∞—Ä—É–∂—É.* 

**–ö–∞–∫ –ø–æ–≤–µ–¥—É—Ç —Å–µ–±—è –¥–∞–Ω–Ω—ã–µ, –ø–æ—Å—Ç—É–ø–∞—é—â–∏–µ –æ—Ç –ì–ù–°–° –∏ –æ—Ç –ò–ù–° –≤ —Å–∞–º–æ–º —Ç—É–Ω–Ω–µ–ª–µ? –ò –ø–æ—á–µ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É –∫–æ–º–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è (–§–∏–ª—å—Ç—Ä—É –ö–∞–ª–º–∞–Ω–∞) –≤ —Ç—É–Ω–Ω–µ–ª–µ –ø—Ä–∏–¥–µ—Ç—Å—è "–Ω–∞–¥–µ—è—Ç—å—Å—è" —Ç–æ–ª—å–∫–æ –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é, –∏ –∫ —á–µ–º—É —ç—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –ø–µ—Ä–µ–¥ —Å–∞–º—ã–º –≤—ã–µ–∑–¥–æ–º –∏–∑ —Ç—É–Ω–Ω–µ–ª—è?**

*–ñ–¥—É —Ç–≤–æ–∏ –º—ã—Å–ª–∏, –∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–π–¥–µ–º –∫ —Ç–æ–º—É, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–æ–¥–µ–ª–∏—Ä—É—é—Ç—Å—è —à—É–º—ã –¥–∞—Ç—á–∏–∫–æ–≤ –∏ —á—Ç–æ —Ç–∞–∫–æ–µ –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å!*


***
***
–¢—ã –æ—á–µ–Ω—å –∑–¥–æ—Ä–æ–≤–æ –ø–æ–¥–º–µ—Ç–∏–ª –ø—Ä–æ —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä—ã –∏ –º–æ–±–∏–ª—å–Ω—ã–µ –≤—ã—à–∫–∏ ‚Äî –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞—Ö –∏ —É–º–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª—è—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ *–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ* (Sensor Fusion), –∫–æ—Ç–æ—Ä–æ–µ —Ç—è–Ω–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤–æ–æ–±—â–µ –æ—Ç–æ–≤—Å—é–¥—É: Wi-Fi, –≤—ã—à–∫–∏ —Å–æ—Ç–æ–≤–æ–π —Å–≤—è–∑–∏, –¥–∞–∂–µ –æ–¥–æ–º–µ—Ç—Ä—ã –∫–æ–ª–µ—Å. –ù–æ –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π, "—á–∏—Å—Ç–æ–π" –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∞–≤–∏–∞—Ü–∏–∏ –∏–ª–∏ –Ω–∞ —Ä–∞–∫–µ—Ç–∞—Ö) –≤ –º–æ–º–µ–Ω—Ç –ø–æ—Ç–µ—Ä–∏ —Å–ø—É—Ç–Ω–∏–∫–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –æ–¥–∏–Ω –Ω–∞ –æ–¥–∏–Ω —Å –ò–ù–°. 

–ò —Ç—ã —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–ª –≥–ª–∞–≤–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –ò–ù–° ‚Äî **–Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏**. –î–∞–≤–∞–π –∑–∞–≥–ª—è–Ω–µ–º –ø–æ–¥ –∫–∞–ø–æ—Ç —ç—Ç–æ–≥–æ —è–≤–ª–µ–Ω–∏—è, –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–π–¥–µ–º –∫ —Ç–æ–º—É, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–ø—É—Ç–Ω–∏–∫–∏ (—ç—Ç–æ –ø—Ä—è–º–∞—è –ø–æ–¥–≤–æ–¥–∫–∞ –∫ —Ç–≤–æ–µ–π –õ–†2).

***

### 1. –ü–æ—á–µ–º—É –ò–ù–° "—É–ø–ª—ã–≤–∞–µ—Ç"? (–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã)

–í —Ç–≤–æ–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ (`configuration.py`) –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä–æ–¥–µ —à—É–º–∞ –∏ "—Å–º–µ—â–µ–Ω–∏—è –Ω—É–ª—è" (bias) –¥–ª—è –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–æ–≤ –∏ –≥–∏—Ä–æ—Å–∫–æ–ø–æ–≤. 

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –º–∞—à–∏–Ω–∞ —Å—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ, —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ 0. –ù–æ –¥–µ—à–µ–≤—ã–π –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä –∏–∑-–∑–∞ –∑–∞–≤–æ–¥—Å–∫–æ–≥–æ –±—Ä–∞–∫–∞ –∏–ª–∏ –Ω–∞–≥—Ä–µ–≤–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∞–ª–µ–Ω—å–∫—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É: $a_{error} = 0.01$ –º/—Å¬≤. –≠—Ç–æ –∏ –µ—Å—Ç—å **—Å–º–µ—â–µ–Ω–∏–µ (bias)**.
–ß—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä? –û–Ω –Ω–∞—á–Ω–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ!
*   **–°–∫–æ—Ä–æ—Å—Ç—å** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∞–ª –æ—Ç —É—Å–∫–æ—Ä–µ–Ω–∏—è. –ß–µ—Ä–µ–∑ –≤—Ä–µ–º—è $t$ –æ—à–∏–±–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å—Ç–∞–Ω–µ—Ç $v_{error} = a_{error} \cdot t$. –û—à–∏–±–∫–∞ —Ä–∞—Å—Ç–µ—Ç *–ª–∏–Ω–µ–π–Ω–æ*.
*   **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (–ø–æ–∑–∏—Ü–∏—è)** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∞–ª –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ (—Ç–æ –µ—Å—Ç—å –¥–≤–æ–π–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞–ª –æ—Ç —É—Å–∫–æ—Ä–µ–Ω–∏—è). –û—à–∏–±–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—Ç–∞–Ω–µ—Ç $P_{error} = \frac{a_{error} \cdot t^2}{2}$. –û—à–∏–±–∫–∞ —Ä–∞—Å—Ç–µ—Ç **–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ**!

–ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É —Å–æ—Å—Ç–∞–≤–∏–ª–∞ –ø–∞—Ä—É –º–∏–ª–ª–∏–º–µ—Ç—Ä–æ–≤, –∑–∞ 60 —Å–µ–∫—É–Ω–¥ –≤ —Ç—É–Ω–Ω–µ–ª–µ –æ–Ω–∞ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ $0.01 \cdot \frac{3600}{2} = 18$ –º–µ—Ç—Ä–æ–≤ –æ—à–∏–±–∫–∏. –ê –µ—Å–ª–∏ —Å–æ–≤—Ä–µ—Ç –≥–∏—Ä–æ—Å–∫–æ–ø (–æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫—É–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –≤–µ–∫—Ç–æ—Ä —É—Å–∫–æ—Ä–µ–Ω–∏—è), –æ—à–∏–±–∫–∞ –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ $t^3$ (–≤ –∫—É–±–µ!). 

*–í–æ—Ç –ø–æ—á–µ–º—É –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –ò–ù–° –±–µ–∑ –ì–ù–°–° –¥–æ–ª–≥–æ –∂–∏—Ç—å –Ω–µ –º–æ–∂–µ—Ç.*

***

### 2. –ö–∞–∫ —Å–ø–∞—Å–∞–µ—Ç –ì–ù–°–° –∏ —á—Ç–æ —Ç–∞–∫–æ–µ "–ü—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å"? (–û—Å–Ω–æ–≤–∞ –õ–†2)

–¢–µ–ø–µ—Ä—å –º—ã –≤—ã–µ—Ö–∞–ª–∏ –∏–∑ —Ç—É–Ω–Ω–µ–ª—è, –∏ –Ω–∞—à –ø—Ä–∏–µ–º–Ω–∏–∫ –ø–æ–π–º–∞–ª —Å–∏–≥–Ω–∞–ª—ã —Å–æ —Å–ø—É—Ç–Ω–∏–∫–æ–≤. –ö–∞–∫ –æ–Ω –ø–æ–Ω–∏–º–∞–µ—Ç, –≥–¥–µ –º—ã? 

–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –ì–ù–°–° (GPS/–ì–õ–û–ù–ê–°–°) –≥–µ–Ω–∏–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç: —ç—Ç–æ **—Å–µ–∫—É–Ω–¥–æ–º–µ—Ä**.
–°–ø—É—Ç–Ω–∏–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç —Ä–∞–¥–∏–æ—Å–æ–æ–±—â–µ–Ω–∏–µ: *"–Ø –Ω–∞—Ö–æ–∂—É—Å—å –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö (Xs, Ys, Zs), –∏ —è –æ—Ç–ø—Ä–∞–≤–∏–ª —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–æ–≤–Ω–æ –≤ 12:00:00.000"*.
–¢–≤–æ–π –ø—Ä–∏–µ–º–Ω–∏–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è: *"–Ø –ø–æ–ª—É—á–∏–ª –µ–≥–æ –≤ 12:00:00.067"*.

–†–∞–¥–∏–æ—Å–∏–≥–Ω–∞–ª –ª–µ—Ç–∏—Ç —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é —Å–≤–µ—Ç–∞ ($c \approx 300\,000$ –∫–º/—Å). –ó–Ω–∞—á–∏—Ç, —Å–∏–≥–Ω–∞–ª –ª–µ—Ç–µ–ª $0.067$ —Å–µ–∫—É–Ω–¥—ã.
–£–º–Ω–æ–∂–∞–µ–º –≤—Ä–µ–º—è –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Å–≤–µ—Ç–∞: $D = c \cdot \Delta t = 20\,100$ –∫–º. –≠—Ç–æ –Ω–∞—à–∞ –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –¥–æ —Å–ø—É—Ç–Ω–∏–∫–∞.

**–ù–û —Ç—É—Ç –µ—Å—Ç—å –æ–≥—Ä–æ–º–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞!**
–ù–∞ —Å–ø—É—Ç–Ω–∏–∫–∞—Ö —Å—Ç–æ—è—Ç –∞—Ç–æ–º–Ω—ã–µ —á–∞—Å—ã —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –≤ –º–∏–ª–ª–∏–æ–Ω—ã –¥–æ–ª–ª–∞—Ä–æ–≤, –æ–Ω–∏ –∏–¥–µ–∞–ª—å–Ω—ã. –ê –≤ —Ç–≤–æ–µ–º –ì–ù–°–°-–ø—Ä–∏–µ–º–Ω–∏–∫–µ —Å—Ç–æ–∏—Ç –∫–æ–ø–µ–µ—á–Ω—ã–π –∫–≤–∞—Ä—Ü–µ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–∫–∞–∫ –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –Ω–∞—Ä—É—á–Ω—ã—Ö —á–∞—Å–∞—Ö). –û–Ω –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —Å–ø–µ—à–∏—Ç –∏–ª–∏ –æ—Ç—Å—Ç–∞–µ—Ç –æ—Ç –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–ø—É—Ç–Ω–∏–∫–æ–≤.

–î–∞–≤–∞–π –ø–æ—Å—á–∏—Ç–∞–µ–º: –µ—Å–ª–∏ —Ç–≤–æ–∏ —á–∞—Å—ã –≤ –ø—Ä–∏–µ–º–Ω–∏–∫–µ –Ω–∞–≤—Ä–∞–ª–∏ –≤—Å–µ–≥–æ –Ω–∞ **1 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—É** ($0.001$ —Å), –∫–∞–∫–∞—è –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –≤ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏?
$–û—à–∏–±–∫–∞ = 300\,000\,000 \text{ –º/—Å} \cdot 0.001 \text{ —Å} = 300\,000 \text{ –º–µ—Ç—Ä–æ–≤}$ (300 –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤!).

–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –∏–∑–º–µ—Ä–µ–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–ü—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å—é (Pseudorange)**. –≠—Ç–æ –Ω–µ —Ä–µ–∞–ª—å–Ω–∞—è –¥–∞–ª—å–Ω–æ—Å—Ç—å, –∞ –∏—Å–∫–∞–∂–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–æ–π —á–∞—Å–æ–≤ –ø—Ä–∏–µ–º–Ω–∏–∫–∞.
–£—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
**–ü—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å = –ò—Å—Ç–∏–Ω–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –¥–∞–ª—å–Ω–æ—Å—Ç—å + (–°–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤ –ø—Ä–∏–µ–º–Ω–∏–∫–∞ $\cdot$ –°–∫–æ—Ä–æ—Å—Ç—å —Å–≤–µ—Ç–∞).**

***

### 3. –ö–∞–∫ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–≤–æ–∏–º –∫–æ–¥–æ–º (–ú–ù–ö / WLS)?

–í –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ ‚Ññ2 —Ç—ã —Ä–µ—à–∞–µ—à—å –∑–∞–¥–∞—á—É –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º–µ–Ω–Ω–æ –ø–æ —ç—Ç–∏–º –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç—è–º.
–ü–æ—Å–º–æ—Ç—Ä–∏, —á—Ç–æ –º—ã –∏—Å–∫–∞–ª–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –ú–ù–ö, –∫–æ—Ç–æ—Ä—É—é —è –ø–æ–º–æ–≥ —Ç–µ–±–µ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å:
–í–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–∞–º –∑–∞–¥–∞–Ω –∫–∞–∫ `x = [X, Y, Z, cb]`. 
*   `X, Y, Z` ‚Äî —ç—Ç–æ –Ω–∞—à–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.
*   `cb` (Clock Bias) ‚Äî —ç—Ç–æ —Ç–æ —Å–∞–º–æ–µ —Å–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤ –ø—Ä–∏–µ–º–Ω–∏–∫–∞, —É–º–Ω–æ–∂–µ–Ω–Ω–æ–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Å–≤–µ—Ç–∞!

–ú–ù–ö (–ú–µ—Ç–æ–¥ –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤) ‚Äî —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–±–∏—Ä–∞–µ—Ç —Ç–∞–∫–∏–µ `X, Y, Z` –∏ `cb`, —á—Ç–æ–±—ã –æ–Ω–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ö–æ—Ä–æ—à–æ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–ª–∏ –∏–∑–º–µ—Ä–µ–Ω–Ω—ã–º –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç—è–º –æ—Ç –≤—Å–µ—Ö –≤–∏–¥–∏–º—ã—Ö —Å–ø—É—Ç–Ω–∏–∫–æ–≤.

***

### üìù –í–æ–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ò—Å—Ö–æ–¥—è –∏–∑ —Ç–æ–≥–æ, —á—Ç–æ –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ–±—Å—É–¥–∏–ª–∏: —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –Ω–∞–π—Ç–∏ —Å–≤–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ **4 –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** ($X, Y, Z$ –∏ —Å–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤ $cb$). 

*–í–æ–ø—Ä–æ—Å 1: –ö–∞–∫–æ–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –Ω—É–∂–Ω–æ –ø–æ–π–º–∞—Ç—å (—É–≤–∏–¥–µ—Ç—å –≤ –Ω–µ–±–µ) –Ω–∞—à–µ–º—É –ø—Ä–∏–µ–º–Ω–∏–∫—É, —á—Ç–æ–±—ã –æ–Ω —Å–º–æ–≥ –≤—ã—á–∏—Å–ª–∏—Ç—å —Å–≤–æ–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —Ä–µ—à–∏—Ç—å —ç—Ç—É —Å–∏—Å—Ç–µ–º—É —É—Ä–∞–≤–Ω–µ–Ω–∏–π?*

*–í–æ–ø—Ä–æ—Å 2 (–Ω–∞ –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ): –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –º–∞—à–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏, –º—ã —Å–ª–µ—Ç–∞–ª–∏ –≤ –±—É–¥—É—â–µ–µ –∏ –ø—Ä–∏–≤–µ–∑–ª–∏ –æ—Ç—Ç—É–¥–∞ –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ã–µ –∞—Ç–æ–º–Ω—ã–µ —á–∞—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–æ–∏–ª–∏ –≤ –Ω–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω. –ù–∞—à–∏ —á–∞—Å—ã –∏–¥–µ–∞–ª—å–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–æ —Å–ø—É—Ç–Ω–∏–∫–∞–º–∏, –∏ —Å–º–µ—â–µ–Ω–∏–µ $cb = 0$. –°–∫–æ–ª—å–∫–æ —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –Ω–∞–º –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –±—ã –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –¥–ª—è 3D-–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?*


***
***
–¢—ã –≤—ã–≤–µ–ª —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø —Å–ø—É—Ç–Ω–∏–∫–æ–≤–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **—Ç—Ä–∏–ª–∞—Ç–µ—Ä–∞—Ü–∏—è**. 

–î–∞–≤–∞–π —è –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ç–≤–æ–π –æ—Ç–≤–µ—Ç, –Ω–µ–º–Ω–æ–≥–æ –ø–æ–ø—Ä–∞–≤–ª—é –æ–ø—Ç–∏–∫—É –∏ –ø–æ–∫–∞–∂—É, –∫–∞–∫ –≤ —ç—Ç—É –∫—Ä–∞—Å–∏–≤—É—é –≥–µ–æ–º–µ—Ç—Ä–∏—é –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Å–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤.

***

### –†–∞–∑–±–æ—Ä —Ç–≤–æ–∏—Ö —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π

**–¢–æ, —á—Ç–æ —Ç—ã –æ–ø–∏—Å–∞–ª –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Ä–Ω–æ –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞ (–æ—Ç–≤–µ—Ç –Ω–∞ –í–æ–ø—Ä–æ—Å 2).**
–î–∞, –µ—Å–ª–∏ –±—ã —É –Ω–∞—Å –±—ã–ª–∏ –∞—Ç–æ–º–Ω—ã–µ —á–∞—Å—ã –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ (—Å–º–µ—â–µ–Ω–∏–µ $cb = 0$), –º—ã –±—ã –∏–∑–º–µ—Ä—è–ª–∏ *–∏—Å—Ç–∏–Ω–Ω—ã–µ –¥–∞–ª—å–Ω–æ—Å—Ç–∏* (—Ä–∞–¥–∏—É—Å—ã —Å—Ñ–µ—Ä). 
1. **–û–¥–∏–Ω —Å–ø—É—Ç–Ω–∏–∫:** –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≥–¥–µ-—Ç–æ –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ —Å—Ñ–µ—Ä—ã –≤–æ–∫—Ä—É–≥ –Ω–µ–≥–æ.
2. **–î–≤–∞ —Å–ø—É—Ç–Ω–∏–∫–∞:** –¥–≤–µ —Å—Ñ–µ—Ä—ã –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è, –æ–±—Ä–∞–∑—É—è –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å (–∫–∞–∫ —Ç—ã –∏ —Å–∫–∞–∑–∞–ª).
3. **–¢—Ä–∏ —Å–ø—É—Ç–Ω–∏–∫–∞:** —Ç—Ä–∏ —Å—Ñ–µ—Ä—ã –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –≤ –¥–≤—É—Ö —Ç–æ—á–∫–∞—Ö. –û–¥–Ω–∞ —Ç–æ—á–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–¥–µ-—Ç–æ –≤ –≥–ª—É–±–æ–∫–æ–º –∫–æ—Å–º–æ—Å–µ (–º—ã –µ–µ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ–º), –∞ –≤—Ç–æ—Ä–∞—è ‚Äî –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –ó–µ–º–ª–∏. **–ë–∏–Ω–≥–æ! 3 —Å–ø—É—Ç–Ω–∏–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 3D-–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –∏–¥–µ–∞–ª—å–Ω—ã—Ö —á–∞—Å–∞—Ö.**

–¢—ã –¥–∞–∂–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –≤–≤–µ–ª "–ó–µ–º–ª—é" –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Å—Ñ–µ—Ä—É (–≥–µ–æ–∏–¥), —Å–∫–∞–∑–∞–≤, —á—Ç–æ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Å—Ñ–µ—Ä—ã —Å–ø—É—Ç–Ω–∏–∫–∞ –∏ –ó–µ–º–ª–∏ –¥–∞–µ—Ç –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å (–ø–∞—Ä–∞–ª–ª–µ–ª—å). –≠—Ç–æ –æ—á–µ–Ω—å –∫—Ä—É—Ç–∞—è –¥–æ–≥–∞–¥–∫–∞! –í —Ä–µ–∞–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –µ—Å–ª–∏ –º—ã –≤–∏–¥–∏–º —Ç–æ–ª—å–∫–æ 3 —Å–ø—É—Ç–Ω–∏–∫–∞ (—Å –ø–ª–æ—Ö–∏–º–∏ —á–∞—Å–∞–º–∏), –ø—Ä–∏–µ–º–Ω–∏–∫ –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤—ã—Å–æ—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Ä–æ–≤–µ–Ω—å –º–æ—Ä—è), –∏—Å–ø–æ–ª—å–∑—É—è –ó–µ–º–ª—é –∫–∞–∫ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–º–µ–Ω—É –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–º—É —Å–ø—É—Ç–Ω–∏–∫—É (—ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *2D-–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ*).

***

### –ì–¥–µ –∫—Ä–æ–µ—Ç—Å—è –ø–æ–¥–≤–æ—Ö? (–í–Ω–µ–¥—Ä—è–µ–º —Å–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤)

–ê —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ —Ä–µ–∞–ª—å–Ω—ã–π –º–∏—Ä (–æ—Ç–≤–µ—Ç –Ω–∞ –í–æ–ø—Ä–æ—Å 1), –≥–¥–µ —á–∞—Å—ã –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –≤—Ä—É—Ç –Ω–∞ –≤–µ–ª–∏—á–∏–Ω—É $cb$. 

–¢—ã –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–ª: *"–ø–æ–∑–∏—Ü–∏—è –∫–æ—Ç–æ—Ä—É—é –¥–∞—ë—Ç –∫–∞–∂–¥—ã–π —Å–ø—É—Ç–Ω–∏–∫ –∏–∑ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–µ–∫–æ–µ –∫–æ–ª—å—Ü–æ"*. 
–ü–æ—á—Ç–∏! –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –≤—Å—ë –≥–æ—Ä–∞–∑–¥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ. –°–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤ –ø—Ä–∏–µ–º–Ω–∏–∫–∞ ($cb$) ‚Äî —ç—Ç–æ **–æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞** –¥–ª—è –≤—Å–µ—Ö –≤–∏–¥–∏–º—ã—Ö —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ (–≤–µ–¥—å —á–∞—Å—ã –≤ –ø—Ä–∏–µ–º–Ω–∏–∫–µ –æ–¥–Ω–∏).

–ï—Å–ª–∏ —á–∞—Å—ã —Å–ø–µ—à–∞—Ç –Ω–∞ $1$ –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥—É, —Ç–æ *–≤—Å–µ* –∏–∑–º–µ—Ä–µ–Ω–Ω—ã–µ –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏ (—Ä–∞–¥–∏—É—Å—ã —Å—Ñ–µ—Ä) –±—É–¥—É—Ç –±–æ–ª—å—à–µ –∏—Å—Ç–∏–Ω–Ω—ã—Ö –¥–∞–ª—å–Ω–æ—Å—Ç–µ–π —Ä–æ–≤–Ω–æ –Ω–∞ $300$ –º–µ—Ç—Ä–æ–≤. –ù–∞—à–∏ —Å—Ñ–µ—Ä—ã "—Ä–∞–∑–¥—É—é—Ç—Å—è".
–ï—Å–ª–∏ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø–µ—Ä–µ—Å–µ—á—å —Ç—Ä–∏ —Ç–∞–∫–∏—Ö "—Ä–∞–∑–¥—É—Ç—ã—Ö" —Å—Ñ–µ—Ä—ã, –æ–Ω–∏ **–≤–æ–æ–±—â–µ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫—É—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ**! –û–Ω–∏ –æ–±—Ä–∞–∑—É—é—Ç —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏.

–ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –Ω–∞–º –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É—Ä–∞–≤–Ω–µ–Ω–∏–π. –í—Å–ø–æ–º–Ω–∏ —à–∫–æ–ª—å–Ω—É—é –∞–ª–≥–µ–±—Ä—É: *—Å–∫–æ–ª—å–∫–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö, —Å—Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π*.
–£ –Ω–∞—Å 4 –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã $X, Y, Z$ –∏ —Å–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤ $cb$.
–ö–∞–∂–¥—ã–π —Å–ø—É—Ç–Ω–∏–∫ –¥–∞–µ—Ç –Ω–∞–º –æ–¥–Ω–æ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏. 
–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ ‚Äî –ß–ï–¢–´–†–ï**. –ß–µ—Ç—ã—Ä–µ —Å–ø—É—Ç–Ω–∏–∫–∞ = —á–µ—Ç—ã—Ä–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è = —Ç–æ—á–Ω–∞—è —Ç–æ—á–∫–∞ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏ —Ç–æ—á–Ω–æ–µ –∑–Ω–∞–Ω–∏–µ —Ç–æ–≥–æ, –Ω–∞ —Å–∫–æ–ª—å–∫–æ –≤—Ä—É—Ç –Ω–∞—à–∏ —á–∞—Å—ã.

*–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –ú–ù–ö (`wls_epoch`) —É —Ç–µ–±—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –º–∞—Ç—Ä–∏—Ü–∞ $H$ —Ä–∞–∑–º–µ—Ä–æ–º $(m \times 4)$, –≥–¥–µ $m$ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å $\ge 4$, —á—Ç–æ–±—ã –º–∞—Ç—Ä–∏—Ü—É –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞—Ç–∏—Ç—å.*

***

### –ü–æ—á–µ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ú–ù–ö (–ú–µ—Ç–æ–¥ –ù–∞–∏–º–µ–Ω—å—à–∏—Ö –ö–≤–∞–¥—Ä–∞—Ç–æ–≤)?

–¢—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤ –≤ –º—ã—Å–ª–∏: *"—á–µ–º –±–æ–ª—å—à–µ —Å–ø—É—Ç–Ω–∏–∫–æ–≤ ... —Ç–µ–º –±–æ–ª—å—à–µ –æ–Ω–∏ —Å–Ω–∏–∂–∞—é—Ç –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç—å"*. 

–ï—Å–ª–∏ –º—ã –≤–∏–¥–∏–º 4 —Å–ø—É—Ç–Ω–∏–∫–∞, –º—ã —Ä–µ—à–∞–µ–º —Å–∏—Å—Ç–µ–º—É –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏ –∏ –ø–æ–ª—É—á–∞–µ–º —Ç–æ—á–Ω—ã–π –æ—Ç–≤–µ—Ç. –ù–æ –æ–±—ã—á–Ω–æ –º—ã –≤–∏–¥–∏–º 8, 10 –∏–ª–∏ 15 —Å–ø—É—Ç–Ω–∏–∫–æ–≤. –£ –Ω–∞—Å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å (15 —É—Ä–∞–≤–Ω–µ–Ω–∏–π –¥–ª—è 4 –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö). –ò–∑-–∑–∞ —à—É–º–∞ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ –∏ –ø–µ—Ä–µ–æ—Ç—Ä–∞–∂–µ–Ω–∏–π —Å–∏–≥–Ω–∞–ª–æ–≤ (–º–Ω–æ–≥–æ–ª—É—á–µ–≤–æ—Å—Ç—å), —ç—Ç–∏ 15 —Å—Ñ–µ—Ä –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–π–¥—É—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ. 

–¢—É—Ç –Ω–∞ —Å—Ü–µ–Ω—É –≤—ã—Ö–æ–¥–∏—Ç **–ú–ù–ö**. –û–Ω –≥–æ–≤–æ—Ä–∏—Ç: *"–Ø –Ω–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ —Ç–æ—á–∫—É, –≥–¥–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –≤—Å–µ 15 —Å—Ñ–µ—Ä, –Ω–æ —è –Ω–∞–π–¥—É —Ç–∞–∫—É—é —Ç–æ—á–∫—É $(X, Y, Z)$ –∏ —Ç–∞–∫–æ–µ —Å–º–µ—â–µ–Ω–∏–µ $cb$, —Å—É–º–º–∞ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –Ω–µ–≤—è–∑–æ–∫ (–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π) –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ –≤—Å–µ—Ö 15 —Å—Ñ–µ—Ä –±—É–¥–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π!"*.

–ê –≤ **–í–∑–≤–µ—à–µ–Ω–Ω–æ–º –ú–ù–ö (WLS)**, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å —Ç–æ–±–æ–π –Ω–∞–ø–∏—Å–∞–ª–∏, –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–±–∞–≤–ª—è–µ—Ç: *"–ò –ø—Ä–∏ —ç—Ç–æ–º —è –±—É–¥—É –±–æ–ª—å—à–µ –¥–æ–≤–µ—Ä—è—Ç—å —Å—Ñ–µ—Ä–∞–º –æ—Ç —Ç–µ—Ö —Å–ø—É—Ç–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–∏—Å—è—Ç –ø—Ä—è–º–æ –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π (–≤ –∑–µ–Ω–∏—Ç–µ), –∏ –º–µ–Ω—å—à–µ —Ç–µ–º, —á—Ç–æ –≤–∏—Å—è—Ç —É –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö —Å–∏–≥–Ω–∞–ª —Å–∏–ª—å–Ω–µ–µ –∏—Å–∫–∞–∑–∏–ª—Å—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ"*.

***

### –†–µ–∑—é–º–µ —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞
1. **–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ü–æ–∑–∏—Ü–∏—è, –°–∫–æ—Ä–æ—Å—Ç—å, –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è.
2. **–ò–ù–°:** –ì–µ–Ω–∏–∞–ª—å–Ω–æ —Ç–æ—á–Ω–∞ –Ω–∞ –¥–æ–ª—è—Ö —Å–µ–∫—É–Ω–¥—ã, –Ω–æ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏ —É–ø–ª—ã–≤–∞–µ—Ç (–∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏) –Ω–∞ –¥–ª–∏–Ω–Ω—ã—Ö –¥–∏—Å—Ç–∞–Ω—Ü–∏—è—Ö.
3. **–ì–ù–°–°:** –î–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∏–∑–º–µ—Ä—è—è –≤—Ä–µ–º—è –ø–æ–ª–µ—Ç–∞ —Å–∏–≥–Ω–∞–ª–∞. –ù–æ –∏–∑-–∑–∞ –¥–µ—à–µ–≤—ã—Ö —á–∞—Å–æ–≤ –º—ã –∏–∑–º–µ—Ä—è–µ–º *–ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏*.
4. **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:** –î–ª—è 3D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º **4 —Å–ø—É—Ç–Ω–∏–∫–∞**. –ß—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å 5+ —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –∏ —É—á–µ—Å—Ç—å –∏—Ö –∫–∞—á–µ—Å—Ç–≤–æ, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **–í–∑–≤–µ—à–µ–Ω–Ω—ã–π –ú–ù–ö**.

–ú—ã –∑–∞–ª–æ–∂–∏–ª–∏ —à–∏–∫–∞—Ä–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç. –¢—ã –ø–æ–Ω—è–ª —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª —Ç–æ–≥–æ –∫–æ–¥–∞ `wls.py`, –∫–æ—Ç–æ—Ä—ã–π –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏! 

–ï—Å–ª–∏ —Å —ç—Ç–∏–º –≤—Å—ë –ø–æ–Ω—è—Ç–Ω–æ –∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–µ—Ç, —Ç–æ **—Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º** —è –ø—Ä–µ–¥–ª–∞–≥–∞—é —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Ç–µ–º, **—á—Ç–æ —Ç–∞–∫–æ–µ –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ (–õ–†1 –∏ –õ–†2)**. –ü–æ—á–µ–º—É –ú–ù–ö –Ω–∞–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –∏ –∑–∞—á–µ–º –Ω—É–∂–µ–Ω —ç—Ç–æ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω—Å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â–µ–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –µ–≥–æ –Ω–∞—Å—Ç–æ—è—â–∏–º? 

–ò–ª–∏, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å, –º—ã –º–æ–∂–µ–º –ø—Ä–µ—Ä–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–µ–æ—Ä–∏—é –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞—à –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –ú–ù–ö, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∏? –ö–∞–∫ —Ç–µ–±–µ —É–¥–æ–±–Ω–µ–µ?

***
***
–û–≥–æ, –æ—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –ø—É—Ç–∞–µ—Ç –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–≥—Ä—É–∂–µ–Ω–∏–∏ –≤ –ì–ù–°–°, –ø–æ—Ç–æ–º—É —á—Ç–æ –≥–µ–æ–º–µ—Ç—Ä–∏—è –≤ 3D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ —Å "–ø–ª–∞–≤–∞—é—â–∏–º" —Ä–∞–¥–∏—É—Å–æ–º ‚Äî —à—Ç—É–∫–∞ —Å–ª–æ–∂–Ω–∞—è –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏. –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç–æ –Ω–∞–≥–ª—è–¥–Ω–æ, —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.

### 1. –ö–∞–∫ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –ò–î–ï–ê–õ–¨–ù–´–ï —Å—Ñ–µ—Ä—ã (–±–µ–∑ —Å–º–µ—â–µ–Ω–∏—è)
–î–ª—è –Ω–∞—á–∞–ª–∞ –µ—â–µ —Ä–∞–∑ –∑–∞–∫—Ä–µ–ø–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ —Å—Ñ–µ—Ä—ã –∏–¥–µ–∞–ª—å–Ω—ã–µ (—á–∞—Å—ã –∏–¥–µ–∞–ª—å–Ω—ã–µ). [berthub](https://berthub.eu/articles/posts/gps-gnss-how-do-they-work/)
- **–°–ø—É—Ç–Ω–∏–∫ 1:** –î–∞–µ—Ç –Ω–∞–º –∏–¥–µ–∞–ª—å–Ω—É—é —Å—Ñ–µ—Ä—É —Ä–∞–¥–∏—É—Å–æ–º $R_1$. –ú—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≥–¥–µ-—Ç–æ –Ω–∞ –µ–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏.
- **–°–ø—É—Ç–Ω–∏–∫ 2:** –î–∞–µ—Ç —Å—Ñ–µ—Ä—É —Ä–∞–¥–∏—É—Å–æ–º $R_2$. –î–≤–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ—Å—è —Å—Ñ–µ—Ä—ã –æ–±—Ä–∞–∑—É—é—Ç **–æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å**. –ú—ã –≥–¥–µ-—Ç–æ –Ω–∞ —ç—Ç–æ–π –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏. [farnell](https://www.farnell.com/datasheets/2707443.pdf)
- **–°–ø—É—Ç–Ω–∏–∫ 3:** –î–∞–µ—Ç —Å—Ñ–µ—Ä—É $R_3$. –≠—Ç–∞ —Å—Ñ–µ—Ä–∞ —Ä–∞—Å—Å–µ–∫–∞–µ—Ç –Ω–∞—à—É –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å —Ä–æ–≤–Ω–æ –≤ **–¥–≤—É—Ö —Ç–æ—á–∫–∞—Ö**. [physicsforums](https://www.physicsforums.com/threads/need-method-for-trilateration-of-3-gps-satellites.572523/)

–û–¥–Ω–∞ –∏–∑ —ç—Ç–∏—Ö —Ç–æ—á–µ–∫ ‚Äî –≥–ª—É–±–æ–∫–∏–π –∫–æ—Å–º–æ—Å, –≤—Ç–æ—Ä–∞—è ‚Äî –º—ã. –ò—Ç–∞–∫, 3 –∏–¥–µ–∞–ª—å–Ω—ã—Ö —Å–ø—É—Ç–Ω–∏–∫–∞ = 1 –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ç–æ—á–∫–∞.

### 2. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤ (Clock Bias)?
–ê —Ç–µ–ø–µ—Ä—å –≤–≤–æ–¥–∏–º –≤ –∏–≥—Ä—É –ø–ª–æ—Ö–∏–µ —á–∞—Å—ã –Ω–∞—à–µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ù–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω —Å–ø–µ—à–∏—Ç –Ω–∞ –≤—Ä–µ–º—è $dt$. [sciencedirect](https://www.sciencedirect.com/science/article/abs/pii/S0263224120308733)
–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –í–°–ï —Ç—Ä–∏ –∏–∑–º–µ—Ä–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (–ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏) —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –≤–µ–ª–∏—á–∏–Ω—É: $c \cdot dt$ (—Å–∫–æ—Ä–æ—Å—Ç—å —Å–≤–µ—Ç–∞ $\times$ –æ—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏). [web.gps.caltech](https://web.gps.caltech.edu/classes/ge111/Docs/GPSbasics.pdf)

–î–æ–ø—É—Å—Ç–∏–º, —á–∞—Å—ã —Å–ø–µ—à–∞—Ç —Ç–∞–∫, —á—Ç–æ $c \cdot dt = 100$ –∫–º. [web.gps.caltech](https://web.gps.caltech.edu/classes/ge111/Docs/GPSbasics.pdf)
–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å —Ç—Ä–∏ —Å—Ñ–µ—Ä—ã, –Ω–æ –∏—Ö —Ä–∞–¥–∏—É—Å—ã –Ω–µ $R_1, R_2, R_3$, –∞ $R_1+100$, $R_2+100$ –∏ $R_3+100$.

### 3. –û—Ç–∫—É–¥–∞ –±–µ—Ä–µ—Ç—Å—è "–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏"?

–í–æ—Ç —Ç—É—Ç –∫—Ä–æ–µ—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è —Ö–∏—Ç—Ä–æ—Å—Ç—å –≥–µ–æ–º–µ—Ç—Ä–∏–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤—å —Å–µ–±–µ, —á—Ç–æ –º—ã –ø—ã—Ç–∞–µ–º—Å—è –ø–µ—Ä–µ—Å–µ—á—å —ç—Ç–∏ —Ç—Ä–∏ "—Ä–∞–∑–¥—É—Ç—ã–µ" —Å—Ñ–µ—Ä—ã.
–ö–æ–≥–¥–∞ —Ä–∞–¥–∏—É—Å—ã –∏–¥–µ–∞–ª—å–Ω—ã–µ, –æ–Ω–∏ —Å—Ç—è–≥–∏–≤–∞—é—Ç—Å—è —Ä–æ–≤–Ω–æ –≤ –æ–¥–Ω—É —Ç–æ—á–∫—É. –ù–æ –∫–æ–≥–¥–∞ –º—ã "—Ä–∞–∑–¥—É–≤–∞–µ–º" –≤—Å–µ —Ç—Ä–∏ —Å—Ñ–µ—Ä—ã –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –≤–µ–ª–∏—á–∏–Ω—É:
1. –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–π –∏ –≤—Ç–æ—Ä–æ–π "—Ä–∞–∑–¥—É—Ç–æ–π" —Å—Ñ–µ—Ä—ã –¥–∞—Å—Ç –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å, –Ω–æ —ç—Ç–∞ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å —Å–º–µ—Å—Ç–∏—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–æ–π, —á—Ç–æ –±—ã–ª–∞ –≤ –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–ª—É—á–∞–µ.
2. –ö–æ–≥–¥–∞ —Ç—Ä–µ—Ç—å—è "—Ä–∞–∑–¥—É—Ç–∞—è" —Å—Ñ–µ—Ä–∞ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ—Å–µ—á—å —ç—Ç—É –Ω–æ–≤—É—é –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å, –æ–Ω–∞ –Ω–µ –ø—Ä–æ–π–¥–µ—Ç —á–µ—Ä–µ–∑ —Ç—É –∂–µ —Å–∞–º—É—é —Ç–æ—á–∫—É!

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ (2D):**
–ü—Ä–µ–¥—Å—Ç–∞–≤—å 3 –∏–¥–µ–∞–ª—å–Ω—ã—Ö –∫—Ä—É–≥–∞ –Ω–∞ –ª–∏—Å—Ç–µ –±—É–º–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ (—Ü–µ–Ω—Ç—Ä–µ). 
–ê —Ç–µ–ø–µ—Ä—å –≤–æ–∑—å–º–∏ —Ü–∏—Ä–∫—É–ª—å –∏ —É–≤–µ–ª–∏—á—å —Ä–∞–¥–∏—É—Å –∫–∞–∂–¥–æ–≥–æ –∫—Ä—É–≥–∞ –Ω–∞ 1 —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä. 
–ü–æ–ø—Ä–æ–±—É–π –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å —ç—Ç–æ –≤ –≥–æ–ª–æ–≤–µ –∏–ª–∏ –Ω–∞ –±—É–º–∞–≥–µ. –ì—Ä–∞–Ω–∏—Ü—ã —ç—Ç–∏—Ö —Ç—Ä–µ—Ö –Ω–æ–≤—ã—Ö –∫—Ä—É–≥–æ–≤ –±–æ–ª—å—à–µ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫—É—Ç—Å—è –≤ –æ–¥–Ω–æ–π –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–æ—á–∫–µ! –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–π —Ç–æ—á–∫–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —É —Ç–µ–±—è –ø–æ–ª—É—á–∏—Ç—Å—è **—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ (–∏–ª–∏ –∫—Ä–∏–≤–æ–ª–∏–Ω–µ–π–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫)** –∏–∑ —Ç—Ä–µ—Ö —Ç–æ—á–µ–∫ –ø–æ–ø–∞—Ä–Ω–æ–≥–æ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è. [berthub](https://berthub.eu/articles/posts/gps-gnss-how-do-they-work/)
–ù–∞—à –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä —Å–∫–∞–∂–µ—Ç: *"–Ø –≥–¥–µ-—Ç–æ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞, –Ω–æ —è –Ω–µ –∑–Ω–∞—é, –≥–¥–µ –∏–º–µ–Ω–Ω–æ"*. 

**–í 3D (–≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ):**
–í–º–µ—Å—Ç–æ –ø–ª–æ—Å–∫–æ–≥–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ —Ç—Ä–∏ "—Ä–∞–∑–¥—É—Ç—ã–µ" —Å—Ñ–µ—Ä—ã –æ–±—Ä–∞–∑—É—é—Ç –æ–±–ª–∞—Å—Ç—å –≤ –≤–∏–¥–µ –∫—Ä–∏–≤–æ–ª–∏–Ω–µ–π–Ω–æ–≥–æ —Ç–µ—Ç—Ä–∞—ç–¥—Ä–∞ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ (—Ç–∞–∫–∞—è –ø—É—Ö–ª–∞—è 3D-—Ñ–∏–≥—É—Ä–∞). –ú—ã –≥–¥–µ-—Ç–æ –≤–Ω—É—Ç—Ä–∏ –∏–ª–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ —ç—Ç–æ–≥–æ –æ–±—ä–µ–º–∞, –Ω–æ —Ç–æ—á–Ω–æ–π —Ç–æ—á–∫–∏ –Ω–µ—Ç. –°–∏—Å—Ç–µ–º–∞ —É—Ä–∞–≤–Ω–µ–Ω–∏–π $(X-X_1)^2 + (Y-Y_1)^2 + (Z-Z_1)^2 = (R_1 + 100)^2$ –¥–ª—è —Ç—Ä–µ—Ö —Å–ø—É—Ç–Ω–∏–∫–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—Ä–∞–∑—Ä–µ—à–∏–º–æ–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–¥–Ω–æ–π —Ç–æ—á–∫–∏. [gnss](https://www.gnss.ca/gnss/1321-step-4-computation)

### 4. –ö–∞–∫ —á–µ—Ç–≤–µ—Ä—Ç—ã–π —Å–ø—É—Ç–Ω–∏–∫ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É?
–ú—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ $\Delta t$ –Ω–∞—à–∏ —Å—Ñ–µ—Ä—ã "—Ä–∞–∑–¥—É—Ç—ã" (–∏–ª–∏ "—Å–∂–∞—Ç—ã", –µ—Å–ª–∏ —á–∞—Å—ã –æ—Ç—Å—Ç–∞—é—Ç). –ù–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ç–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ $\Delta t$, –ø—Ä–∏ –≤—ã—á–∏—Ç–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–∑ –≤—Å–µ—Ö —Ä–∞–¥–∏—É—Å–æ–≤ –Ω–∞—à–∏ —Ç—Ä–∏ —Å—Ñ–µ—Ä—ã —Å–Ω–æ–≤–∞ —Å–æ–π–¥—É—Ç—Å—è –≤ –æ–¥–Ω—É —Ç–æ—á–∫—É! [gnss](https://www.gnss.ca/gnss/1321-step-4-computation)

–ù–æ –∫–∞–∫ –ø—Ä–∏–µ–º–Ω–∏–∫ —É–∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–µ –∏–º–µ–Ω–Ω–æ $\Delta t$ –Ω—É–∂–Ω–æ –≤—ã—á–µ—Å—Ç—å? 
–í–æ—Ç —Ç—É—Ç –∏ –≤—ã—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ü–µ–Ω—É **–ß–µ—Ç–≤–µ—Ä—Ç—ã–π —Å–ø—É—Ç–Ω–∏–∫**. [en.wikipedia](https://en.wikipedia.org/wiki/Pseudorange)

–û–Ω –¥–∞–µ—Ç –Ω–∞–º —á–µ—Ç–≤–µ—Ä—Ç—É—é —Å—Ñ–µ—Ä—É $R_4 + c \cdot \Delta t$.
–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–µ–≤–∏–¥–∏–º–∞—è —Ä—É–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∫—Ä—É—Ç–∏—Ç –ø–æ–ª–∑—É–Ω–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ (—Ç—É–¥–∞-—Å—é–¥–∞). –û–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç/—É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–¥–∏—É—Å—ã **–≤—Å–µ—Ö —á–µ—Ç—ã—Ä–µ—Ö —Å—Ñ–µ—Ä –Ω–∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –≤–µ–ª–∏—á–∏–Ω—É**, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç —Ç–∞–∫–æ–π –º–æ–º–µ–Ω—Ç, –≥–¥–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö —á–µ—Ç—ã—Ä–µ—Ö —Å—Ñ–µ—Ä –∏–¥–µ–∞–ª—å–Ω–æ –∫–æ—Å–Ω—É—Ç—Å—è –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –æ–¥–Ω–æ–π –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–æ—á–∫–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞! [novatel](https://novatel.com/an-introduction-to-gnss/basic-concepts/computation)

–ö–∞–∫ —Ç–æ–ª—å–∫–æ —ç—Ç–∞ —Ç–æ—á–∫–∞ –Ω–∞–π–¥–µ–Ω–∞:
1. –≠—Ç–∞ —Ç–æ—á–∫–∞ ‚Äî –Ω–∞—à–∏ —Ç–æ—á–Ω—ã–µ 3D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã $(X, Y, Z)$. [en.wikipedia](https://en.wikipedia.org/wiki/Pseudorange)
2. –í–µ–ª–∏—á–∏–Ω–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –ø—Ä–∏—à–ª–æ—Å—å "—Å–¥—É—Ç—å/—Ä–∞–∑–¥—É—Ç—å" —Å—Ñ–µ—Ä—ã ‚Äî —ç—Ç–æ –Ω–∞—à–∞ –æ—à–∏–±–∫–∞ —á–∞—Å–æ–≤ $\Delta t$. [gnss](https://www.gnss.ca/gnss/1321-step-4-computation)

–ö—Å—Ç–∞—Ç–∏, –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç: –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–µ–º–Ω–∏–∫ —Ä–µ—à–∏–ª —ç—Ç—É –∑–∞–¥–∞—á—É, –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —á–∞—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–æ —Å–ø—É—Ç–Ω–∏–∫–æ–≤—ã–º–∏ (–∞—Ç–æ–º–Ω—ã–º–∏). –í–æ—Ç –ø–æ—á–µ–º—É —Ç–≤–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ª–æ–≤–∏—Ç GPS, –¥–∞–∂–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞! [gnss](https://www.gnss.ca/gnss/1321-step-4-computation)

***

–°—Ç–∞–ª–æ –ª–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–Ω—è—Ç–Ω–µ–µ, –ø–æ—á–µ–º—É —Å—Ñ–µ—Ä—ã "—Ä–∞—Å–ø–æ–ª–∑–∞—é—Ç—Å—è" –∏ –ø–æ—á–µ–º—É –Ω–∞–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω—É–∂–µ–Ω —á–µ—Ç–≤–µ—Ä—Ç—ã–π —Å–ø—É—Ç–Ω–∏–∫ –∫–∞–∫ —Å–≤–æ–µ–æ–±—Ä–∞–∑–Ω—ã–π "–∫–ª–µ–π", —á—Ç–æ–±—ã —Å—Ç—è–Ω—É—Ç—å –∏—Ö –æ–±—Ä–∞—Ç–Ω–æ?

***
***
–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–∞–º—ã–π —Å–∫–æ–ª—å–∑–∫–∏–π –º–æ–º–µ–Ω—Ç, –∏ —è –ø—Ä–∏–∑–Ω–∞—é: –º–æ—è —Ñ—Ä–∞–∑–∞ "—Ç—Ä–∏ —Å—Ñ–µ—Ä—ã –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ—Å–µ–∫—É—Ç—Å—è —Ä–æ–≤–Ω–æ –≤ –¥–≤—É—Ö —Ç–æ—á–∫–∞—Ö" –±—ã–ª–∞ –Ω–µ—Ç–æ—á–Ω–æ–π –¥–ª—è –Ω–∞—à–µ–≥–æ —Å–ª—É—á–∞—è —Å *–ø–ª–∞–≤–∞—é—â–∏–º* –≤—Ä–µ–º–µ–Ω–µ–º. –î–∞–≤–∞–π –∏—Å–ø—Ä–∞–≤–∏–º —ç—Ç—É –ø—É—Ç–∞–Ω–∏—Ü—É.

### 1. –ü–æ—á–µ–º—É –º—ã –Ω–µ –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–±–∏—Ä–∞—Ç—å $\Delta t$ –¥–ª—è 3 —Å—Ñ–µ—Ä?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –º—ã –ø—ã—Ç–∞–µ–º—Å—è —Å–¥–µ–ª–∞—Ç—å —Ç–æ, —á—Ç–æ —Ç—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å: –±–µ—Ä–µ–º 3 —Å–ø—É—Ç–Ω–∏–∫–∞, —É –Ω–∞—Å –µ—Å—Ç—å –∏—Ö –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏ (—Å –æ—à–∏–±–∫–æ–π), –∏ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º –∫—Ä—É—Ç–∏—Ç—å —Ä—É—á–∫—É $\Delta t$, –º–µ–Ω—è—è —Ä–∞–¥–∏—É—Å—ã –≤—Å–µ—Ö —Ç—Ä–µ—Ö —Å—Ñ–µ—Ä –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –Ω–∞–π—Ç–∏ —Ç–∞–∫–æ–π –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –æ–Ω–∏ –ø–µ—Ä–µ—Å–µ–∫—É—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ.

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –≤ —Ç—Ä–µ—Ö–º–µ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –¥–ª—è —Ç—Ä–µ—Ö "—Ä–∞–∑–¥—É–≤–∞—é—â–∏—Ö—Å—è" —Å—Ñ–µ—Ä **—Ç–∞–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –º–Ω–æ–≥–æ!**

–°–º–æ—Ç—Ä–∏, –∫–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏: [reddit](https://www.reddit.com/r/askscience/comments/k6um6y/why_is_a_fourth_satellite_needed_for_time/)
*   –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –¥–≤—É—Ö —Ä–∞—Å—à–∏—Ä—è—é—â–∏—Ö—Å—è —Å—Ñ–µ—Ä ‚Äî —ç—Ç–æ –Ω–µ –æ–¥–Ω–∞ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å, –∞ *—Ü–µ–ª–æ–µ —Å–µ–º–µ–π—Å—Ç–≤–æ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–µ–π*, –æ–±—Ä–∞–∑—É—é—â–∏—Ö —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ –≤–æ—Ä–æ–Ω–∫–∏.
*   –ö–æ–≥–¥–∞ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–µ—Ç—å—é —Ä–∞—Å—à–∏—Ä—è—é—â—É—é—Å—è —Å—Ñ–µ—Ä—É, –æ–Ω–∞ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —ç—Ç—É "–≤–æ—Ä–æ–Ω–∫—É". –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–µ –æ–¥–Ω–∞ —Ç–æ—á–∫–∞, –∞ **—Ü–µ–ª–∞—è –∫—Ä–∏–≤–∞—è –ª–∏–Ω–∏—è –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ** (–ø–æ—Ö–æ–∂–∞—è –Ω–∞ –≥–∏–ø–µ—Ä–±–æ–ª—É –∏–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –ª–∏–Ω–∏—é, –∏–¥—É—â—É—é –æ—Ç –∑–µ–º–ª–∏ –≤ –∫–æ—Å–º–æ—Å). [reddit](https://www.reddit.com/r/askscience/comments/k6um6y/why_is_a_fourth_satellite_needed_for_time/)

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –¥–ª—è *–ª—é–±–æ–π* —Ç–æ—á–∫–∏ –Ω–∞ —ç—Ç–æ–π –ª–∏–Ω–∏–∏ –Ω–∞–π–¥–µ—Ç—Å—è —Å–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ $\Delta t$, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–¥–∏—É—Å—ã –≤—Å–µ—Ö —Ç—Ä–µ—Ö —Å—Ñ–µ—Ä –∏–¥–µ–∞–ª—å–Ω–æ —Å–æ–π–¥—É—Ç—Å—è –∏–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ–π —Ç–æ—á–∫–µ! 

**–ü—Ä–∏–º–µ—Ä –∏–∑ –∂–∏–∑–Ω–∏:**
–ù–∞–≤–∏–≥–∞—Ç–æ—Ä —Å —Ç—Ä–µ–º—è —Å–ø—É—Ç–Ω–∏–∫–∞–º–∏ –≥–æ–≤–æ—Ä–∏—Ç:
- "–ï—Å–ª–∏ $\Delta t = 1$ –º—Å, —Ç–æ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –Ω–∞ –≤—ã—Å–æ—Ç–µ 100 –º–µ—Ç—Ä–æ–≤".
- "–ê –µ—Å–ª–∏ $\Delta t = 1.1$ –º—Å, —Ç–æ —Å—Ñ–µ—Ä—ã —Ç–æ–∂–µ –∏–¥–µ–∞–ª—å–Ω–æ —Å—Ö–æ–¥—è—Ç—Å—è, –Ω–æ —É–∂–µ –Ω–∞ –≤—ã—Å–æ—Ç–µ 1000 –º–µ—Ç—Ä–æ–≤!"
- "–ê –µ—Å–ª–∏ $\Delta t = 1.2$ –º—Å, —Ç–æ –æ–Ω–∏ —Å—Ö–æ–¥—è—Ç—Å—è –Ω–∞ –≤—ã—Å–æ—Ç–µ 30 –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤!"

–í—Å–µ —ç—Ç–∏ —Ç–æ—á–∫–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã. –£—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–º–µ–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–µ—à–µ–Ω–∏–π (–∫—Ä–∏–≤—É—é –ª–∏–Ω–∏—é), –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∞—Å **3 —É—Ä–∞–≤–Ω–µ–Ω–∏—è, –Ω–æ 4 –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** ($X, Y, Z, \Delta t$). [reddit](https://www.reddit.com/r/AlwaysWhy/comments/1r15lcy/why_does_gps_need_4_satellites_when_3_should_be/)

### 2. –ß—Ç–æ –¥–∞–µ—Ç —á–µ—Ç–≤–µ—Ä—Ç—ã–π —Å–ø—É—Ç–Ω–∏–∫?

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º —á–µ—Ç–≤–µ—Ä—Ç—ã–π —Å–ø—É—Ç–Ω–∏–∫, –º—ã –ø–æ–ª—É—á–∞–µ–º —á–µ—Ç–≤–µ—Ä—Ç–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ (—á–µ—Ç–≤–µ—Ä—Ç—É—é —Ä–∞—Å—à–∏—Ä—è—é—â—É—é—Å—è —Å—Ñ–µ—Ä—É).
–≠—Ç–∞ —á–µ—Ç–≤–µ—Ä—Ç–∞—è —Å—Ñ–µ—Ä–∞ —Å–≤–æ–∏–º –∫—Ä–∞–µ–º **–ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —Ç—É —Å–∞–º—É—é –∫—Ä–∏–≤—É—é –ª–∏–Ω–∏—é –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π** —Ä–æ–≤–Ω–æ –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö: [reddit](https://www.reddit.com/r/askscience/comments/k6um6y/why_is_a_fourth_satellite_needed_for_time/)
1. –û–¥–Ω–æ –º–µ—Å—Ç–æ ‚Äî —ç—Ç–æ –Ω–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –ó–µ–º–ª–µ) –∏ —Ä–µ–∞–ª—å–Ω–æ–µ $\Delta t$.
2. –í—Ç–æ—Ä–æ–µ –º–µ—Å—Ç–æ ‚Äî –≥–¥–µ-—Ç–æ –¥–∞–ª–µ–∫–æ –≤ –∫–æ—Å–º–æ—Å–µ (–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π "–º—É—Å–æ—Ä", –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º). [reddit](https://www.reddit.com/r/askscience/comments/k6um6y/why_is_a_fourth_satellite_needed_for_time/)

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, 4 —Å–ø—É—Ç–Ω–∏–∫–∞ –∂–µ—Å—Ç–∫–æ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç —Å–∏—Å—Ç–µ–º—É. –£ –Ω–∞—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 4 —É—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è 4 –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö, –∏ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∞–µ—Ç **—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**. [reddit](https://www.reddit.com/r/AlwaysWhy/comments/1r15lcy/why_does_gps_need_4_satellites_when_3_should_be/)

### 3. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –∫–æ–≥–¥–∞ 3 —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –≤—Å—ë-—Ç–∞–∫–∏ —Ö–≤–∞—Ç–∞–µ—Ç

–¢—ã –º–æ–∂–µ—à—å —Å–ø—Ä–æ—Å–∏—Ç—å: "–ù–æ –≤–µ–¥—å —Å—Ç–∞—Ä—ã–µ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä—ã –∏–Ω–æ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ–∑–∏—Ü–∏—é –¥–∞–∂–µ —Å 3 —Å–ø—É—Ç–Ω–∏–∫–∞–º–∏?". 
–î–∞, —Ç–∞–∫–æ–µ –±—ã–≤–∞–µ—Ç! –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **2D-–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**. [whitelabeltracking](https://www.whitelabeltracking.com/how-many-satellites-get-a-good-gps-lock-and-why/)

–ï—Å–ª–∏ –ø—Ä–∏–µ–º–Ω–∏–∫ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ 3 —Å–ø—É—Ç–Ω–∏–∫–∞, –æ–Ω "—Ö–∏—Ç—Ä–∏—Ç". –û–Ω –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å –∫—Ä–∏–≤–∞—è –ª–∏–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π (–æ—Ç –∑–µ–º–ª–∏ –¥–æ –∫–æ—Å–º–æ—Å–∞). –ß—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –∏–∑ –Ω–µ–µ –æ–¥–Ω—É —Ç–æ—á–∫—É, –ø—Ä–∏–µ–º–Ω–∏–∫ –±–µ—Ä–µ—Ç **—á–µ—Ç–≤–µ—Ä—Ç–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ "–∏–∑ –≥–æ–ª–æ–≤—ã"** ‚Äî –æ–Ω –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –ó–µ–º–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –≤—ã—Å–æ—Ç–µ $Z = 0$ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —É—Ä–æ–≤–Ω—è –º–æ—Ä—è). [reddit](https://www.reddit.com/r/askscience/comments/k6um6y/why_is_a_fourth_satellite_needed_for_time/)
–¢–æ–≥–¥–∞:
1. –£—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø—É—Ç–Ω–∏–∫–∞ 1
2. –£—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø—É—Ç–Ω–∏–∫–∞ 2
3. –£—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø—É—Ç–Ω–∏–∫–∞ 3
4. *–£—Ä–∞–≤–Ω–µ–Ω–∏–µ: –ú–æ—è –≤—ã—Å–æ—Ç–∞ = 0.*

–°–Ω–æ–≤–∞ 4 —É—Ä–∞–≤–Ω–µ–Ω–∏—è! –°–∏—Å—Ç–µ–º–∞ —Ä–µ—à–∞–µ—Ç—Å—è, –º—ã –ø–æ–ª—É—á–∞–µ–º $X, Y$ –∏ –≤—Ä–µ–º—è $\Delta t$. –ù–æ –µ—Å–ª–∏ —Ç—ã –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –µ–¥–µ—à—å –≤ –≥–æ—Ä—É –∏–ª–∏ –ª–µ—Ç–∏—à—å –Ω–∞ —Å–∞–º–æ–ª–µ—Ç–µ (–≤—ã—Å–æ—Ç–∞ –Ω–µ —Ä–∞–≤–Ω–∞ 0), —Ç–æ —Ç–≤–æ–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ –æ—Å—è–º $X$ –∏ $Y$ –±—É–¥—É—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã —Å –æ–≥—Ä–æ–º–Ω–æ–π –æ—à–∏–±–∫–æ–π.

### –†–µ–∑—é–º–µ —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞

*   **–ò–¥–µ–∞–ª—å–Ω—ã–µ —á–∞—Å—ã ($\Delta t = 0$):** —Ä–∞–¥–∏—É—Å—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã. 3 —Å—Ñ–µ—Ä—ã –¥–∞—é—Ç 2 —Ç–æ—á–∫–∏ (–æ–¥–Ω–∞ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö ‚Äî –º—ã). –•–≤–∞—Ç–∞–µ—Ç 3 —Å–ø—É—Ç–Ω–∏–∫–æ–≤.
*   **–ü–ª–æ—Ö–∏–µ —á–∞—Å—ã (–Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ $\Delta t$):** —Ä–∞–¥–∏—É—Å—ã "–¥—ã—à–∞—Ç". 3 –¥—ã—à–∞—â–∏–µ —Å—Ñ–µ—Ä—ã –¥–∞—é—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –¥–ª–∏–Ω–Ω—É—é –∫—Ä–∏–≤—É—é –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–æ–ª–æ–∂–µ–Ω–∏–π. 4-—è –¥—ã—à–∞—â–∞—è —Å—Ñ–µ—Ä–∞ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —ç—Ç—É –∫—Ä–∏–≤—É—é –≤ –Ω—É–∂–Ω–æ–π –Ω–∞–º —Ç–æ—á–∫–µ. –ù—É–∂–Ω–æ 4 —Å–ø—É—Ç–Ω–∏–∫–∞. [reddit](https://www.reddit.com/r/askscience/comments/k6um6y/why_is_a_fourth_satellite_needed_for_time/)

–¢–µ–ø–µ—Ä—å –≥–µ–æ–º–µ—Ç—Ä–∏—è —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –≥–æ–ª–æ–≤–µ?

***
***
–û—Ç–ª–∏—á–Ω–æ! –ï—Å–ª–∏ –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å —Ç–µ–º, –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–ú–ù–ö) –∏ –ø–æ—á–µ–º—É –ò–ù–° —Å–∞–º–∞ –ø–æ —Å–µ–±–µ "—É–ø–ª—ã–≤–∞–µ—Ç", —Å–∞–º–æ–µ –≤—Ä–µ–º—è –ø–µ—Ä–µ–π—Ç–∏ –∫ –º–∞–≥–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∏—Ö –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç ‚Äî **–§–∏–ª—å—Ç—Ä—É –ö–∞–ª–º–∞–Ω–∞ (Kalman Filter, –§–ö)**. –≠—Ç–æ —è–¥—Ä–æ —Ç–≤–æ–∏—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö ‚Ññ1, ‚Ññ2 (—á–∞—Å—Ç–∏—á–Ω–æ), ‚Ññ3 –∏ ‚Ññ4.

–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä–µ–º –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ –Ω–µ —Å—É—Ö–∏–º–∏ —Ñ–æ—Ä–º—É–ª–∞–º–∏, –∞ –Ω–∞ –ø–æ–Ω—è—Ç–Ω–æ–º –∂–∏–∑–Ω–µ–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ.

***

### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏)?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –µ–¥–µ—à—å –ø–æ —Ç—Ä–∞—Å—Å–µ –≤ –≥—É—Å—Ç–æ–º —Ç—É–º–∞–Ω–µ (—ç—Ç–æ —à—É–º –∏–∑–º–µ—Ä–µ–Ω–∏–π).
*   **–£ —Ç–µ–±—è –µ—Å—Ç—å —Å–ø–∏–¥–æ–º–µ—Ç—Ä (—Ç–≤–æ—è –ò–ù–°).** –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å, –∏ —Ç—ã –ø–æ –Ω–µ–º—É –º—ã—Å–ª–µ–Ω–Ω–æ –ø—Ä–∏–∫–∏–¥—ã–≤–∞–µ—à—å: *"–Ø –µ—Ö–∞–ª 60 –∫–º/—á –æ–¥–Ω—É –º–∏–Ω—É—Ç—É, –∑–Ω–∞—á–∏—Ç, –ø—Ä–æ–µ—Ö–∞–ª 1 –∫–∏–ª–æ–º–µ—Ç—Ä"*. –≠—Ç–æ —Ç–≤–æ–π **–ø—Ä–æ–≥–Ω–æ–∑** (Predict).
*   **–£ —Ç–µ–±—è –µ—Å—Ç—å –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤—ã–µ —Å—Ç–æ–ª–±–∏–∫–∏ —É –æ–±–æ—á–∏–Ω—ã (—Ç–≤–æ–π –ì–ù–°–°/GPS).** –¢—ã –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –≤–∏–¥–∏—à—å –∏—Ö —Å–∫–≤–æ–∑—å —Ç—É–º–∞–Ω, –Ω–æ –∏–Ω–æ–≥–¥–∞ –æ–Ω–∏ –≥—Ä—è–∑–Ω—ã–µ –∏–ª–∏ —Ç—ã —á–∏—Ç–∞–µ—à—å –∏—Ö –Ω–µ–≤–µ—Ä–Ω–æ (–æ—à–∏–±–∫–∞ –ì–ù–°–°-–ø–æ–∑–∏—Ü–∏–∏). –≠—Ç–æ —Ç–≤–æ–µ **–∏–∑–º–µ—Ä–µ–Ω–∏–µ** (Update).

–§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ ‚Äî —ç—Ç–æ —Ç–≤–æ–π "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –≥–æ–ª–æ—Å", –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ –≤–∑–≤–µ—à–∏–≤–∞–µ—Ç: –∫–æ–º—É –≤–µ—Ä–∏—Ç—å –±–æ–ª—å—à–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç ‚Äî —Å–ø–∏–¥–æ–º–µ—Ç—Ä—É –∏–ª–∏ —Å—Ç–æ–ª–±–∏–∫–∞–º?

–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ –∏–∑ –¥–≤—É—Ö —à–∞–≥–æ–≤:

#### –®–∞–≥ 1: –ü—Ä–æ–≥–Ω–æ–∑ / –≠–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è (Predict)
–û—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∑–∞–∫–æ–Ω–∞—Ö —Ñ–∏–∑–∏–∫–∏ (—É—Ä–∞–≤–Ω–µ–Ω–∏—è—Ö –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∏) –∏ –¥–∞–Ω–Ω—ã—Ö –ò–ù–° (–∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä—ã/–≥–∏—Ä–æ—Å–∫–æ–ø—ã), —Ñ–∏–ª—å—Ç—Ä –≥–æ–≤–æ—Ä–∏—Ç:
> *"–ò—Å—Ö–æ–¥—è –∏–∑ –º–æ–µ–π –ø—Ä–æ—à–ª–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∏ —Ç–µ–∫—É—â–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏, —á–µ—Ä–µ–∑ –¥–æ–ª—é —Å–µ–∫—É–Ω–¥—ã —è –¥–æ–ª–∂–µ–Ω –æ–∫–∞–∑–∞—Ç—å—Å—è –≤ —Ç–æ—á–∫–µ A. –ù–æ —Ç–∞–∫ –∫–∞–∫ –º–æ–π —Å–ø–∏–¥–æ–º–µ—Ç—Ä –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ—Ç (–Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏), –º–æ—è **–Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** –≤ —Ç–æ—á–∫–µ A –≤—ã—Ä–æ—Å–ª–∞"*.

–í –∫–æ–¥–µ `kalman.py` —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è:
```python
def predict(self, F, Q):
    self.x = F @ self.x              # –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å–∫–æ—Ä–æ—Å—Ç–∏)
    self.P = F @ self.P @ F.T + Q    # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–≤–∞—Ä–∏–∞—Ü–∏—é P (–Ω–∞—à—É –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å) –Ω–∞ –≤–µ–ª–∏—á–∏–Ω—É —à—É–º–∞ –º–æ–¥–µ–ª–∏ Q
```

#### –®–∞–≥ 2: –ö–æ—Ä—Ä–µ–∫—Ü–∏—è / –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Update)
–¢—É—Ç –ø—Ä–∏–ª–µ—Ç–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –æ—Ç —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –ì–ù–°–°. –°–ø—É—Ç–Ω–∏–∫–∏ –≥–æ–≤–æ—Ä—è—Ç: *"–¢—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –≤ —Ç–æ—á–∫–µ B!"*.
–§–∏–ª—å—Ç—Ä —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–æ—á–∫—É A (—Å–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑) –∏ –Ω–∞ —Ç–æ—á–∫—É B (–∏–∑–º–µ—Ä–µ–Ω–∏–µ –ì–ù–°–°) –∏ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: *"–ì–¥–µ –∏—Å—Ç–∏–Ω–∞?"*.
–û–Ω —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç ‚Äî **–ú–∞—Ç—Ä–∏—Ü—É —É—Å–∏–ª–µ–Ω–∏—è –ö–∞–ª–º–∞–Ω–∞ (Kalman Gain, $K$)**.

*   –ï—Å–ª–∏ –ì–ù–°–°-–ø—Ä–∏–µ–º–Ω–∏–∫ –≥–æ–≤–æ—Ä–∏—Ç "–£ –º–µ–Ω—è —à–∏–∫–∞—Ä–Ω—ã–π —Å–∏–≥–Ω–∞–ª, —è —É–≤–µ—Ä–µ–Ω –Ω–∞ 99% (–º–∞—Ç—Ä–∏—Ü–∞ —à—É–º–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π $R$ –º–∞–ª–µ–Ω—å–∫–∞—è)": –§–∏–ª—å—Ç—Ä –ø–æ–¥—Ç—è–Ω–µ—Ç –∏—Ç–æ–≥–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é –æ—á–µ–Ω—å –±–ª–∏–∑–∫–æ –∫ —Ç–æ—á–∫–µ B.
*   –ï—Å–ª–∏ –º—ã –≤—ä–µ—Ö–∞–ª–∏ –≤ —Ç—É–Ω–Ω–µ–ª—å –∏–ª–∏ –ø–æ–¥ –¥–µ—Ä–µ–≤—å—è, –∏ –ì–ù–°–° –≥–æ–≤–æ—Ä–∏—Ç "–°–≤—è–∑—å –ø–ª–æ—Ö–∞—è, –æ—à–∏–±–∫–∞ –º–µ—Ç—Ä–æ–≤ 50 (–º–∞—Ç—Ä–∏—Ü–∞ $R$ –æ–≥—Ä–æ–º–Ω–∞—è)": –§–∏–ª—å—Ç—Ä —Å–∫–∞–∂–µ—Ç "–°–ø–∞—Å–∏–±–æ –∑–∞ –º–Ω–µ–Ω–∏–µ, –Ω–æ —è –±–æ–ª—å—à–µ –≤–µ—Ä—é —Å–≤–æ–µ–º—É –ø—Ä–æ–≥–Ω–æ–∑—É (–ò–ù–°)" –∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–ª–∏–∂–µ –∫ —Ç–æ—á–∫–µ A.

–í –∫–æ–¥–µ `kalman.py` —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è:
```python
def update(self, z, H, R):
    y = z - H @ self.x                  # –ù–µ–≤—è–∑–∫–∞: —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ç–µ–º, —á—Ç–æ –∏–∑–º–µ—Ä–∏–ª–∏ (z), –∏ —Ç–µ–º, —á—Ç–æ –æ–∂–∏–¥–∞–ª–∏
    S = H @ self.P @ H.T + R            # –û—Ü–µ–Ω–∏–≤–∞–µ–º, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ –º—ã —Å–æ–º–Ω–µ–≤–∞–µ–º—Å—è –≤ –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö
    K = self.P @ H.T @ np.linalg.inv(S) # –¢–æ—Ç —Å–∞–º—ã–π –≤–µ—Å (Kalman Gain)
    self.x = self.x + K @ y             # –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –Ω–∞—à—É –ø–æ–∑–∏—Ü–∏—é!
    self.P = (self.I - K @ H) @ self.P  # –£–º–µ–Ω—å—à–∞–µ–º –Ω–∞—à—É –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (–≤–µ–¥—å –º—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)
```

***

### 2. –ì–ª–∞–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –ª–∏—Ü–∞ (–º–∞—Ç—Ä–∏—Ü—ã), –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –¥–ª—è –∑–∞—â–∏—Ç—ã

–ù–∞ –∑–∞—â–∏—Ç–µ 100% —Å–ø—Ä–æ—Å—è—Ç –ø—Ä–æ —ç—Ç–∏ –±—É–∫–≤—ã. –ó–∞–ø–æ–º–Ω–∏ –∏—Ö —Å—É—Ç—å:

*   **$x$ (–í–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è)**: –¢–æ, —á—Ç–æ –º—ã –∏—â–µ–º. –í –õ–†1 —ç—Ç–æ `[E, N, U, vE, vN, vU]` (–ø–æ–∑–∏—Ü–∏—è –∏ —Å–∫–æ—Ä–æ—Å—Ç—å). –í –õ–†4 —ç—Ç–æ —É–∂–µ –±—É–¥–µ—Ç –æ–≥—Ä–æ–º–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –∏–∑ 17 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å–∫–æ—Ä–æ—Å—Ç–∏, —É–≥–ª—ã, –æ—à–∏–±–∫–∏ –¥–∞—Ç—á–∏–∫–æ–≤ –∏ —á–∞—Å–æ–≤).
*   **$P$ (–ö–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞)**: –ù–∞—à–∞ **–Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** –≤ –≤–µ–∫—Ç–æ—Ä–µ $x$. –î–∏–∞–≥–æ–Ω–∞–ª—å –º–∞—Ç—Ä–∏—Ü—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–≤–∞–¥—Ä–∞—Ç—ã –æ—à–∏–±–æ–∫ –ø–æ –∫–∞–∂–¥–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É. –§–∏–ª—å—Ç—Ä —Å—Ç—Ä–µ–º–∏—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ.
*   **$F$ (–ú–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ / Transition Matrix)**: –ó–∞–∫–æ–Ω—ã —Ñ–∏–∑–∏–∫–∏. –û–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –ø—Ä–æ—à–ª–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ—Ç–µ–∫–∞–µ—Ç –≤ –±—É–¥—É—â–µ–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, *"–ù–æ–≤–∞—è –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ = –°—Ç–∞—Ä–∞—è –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ + –°–∫–æ—Ä–æ—Å—Ç—å $\times$ –í—Ä–µ–º—è"*.
*   **$H$ (–ú–∞—Ç—Ä–∏—Ü–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π / Observation Matrix)**: "–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫". –û–Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–æ, —á—Ç–æ –º—ã *—Å–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–ª–∏*, –≤ —Ñ–æ—Ä–º–∞—Ç —Ç–æ–≥–æ, —á—Ç–æ –º—ã *–∏–∑–º–µ—Ä—è–µ–º*. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º X,Y,Z, –∞ –∏–∑–º–µ—Ä—è–µ–º –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ), –º–∞—Ç—Ä–∏—Ü–∞ $H$ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≥–µ–æ–º–µ—Ç—Ä–∏—é (–Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ—Å–∏–Ω—É—Å—ã), —á—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ X,Y,Z –≤ –¥–∞–ª—å–Ω–æ—Å—Ç—å.
*   **$Q$ (–®—É–º –ø—Ä–æ—Ü–µ—Å—Å–∞)**: –î–æ–≤–µ—Ä–∏–µ –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ (–ò–ù–°). –ï—Å–ª–∏ $Q$ –±–æ–ª—å—à–æ–µ ‚Äî –º—ã –≥–æ–≤–æ—Ä–∏–º —Ñ–∏–ª—å—Ç—Ä—É "–ú–æ—è –º–æ–¥–µ–ª—å –ø–ª–æ—Ö–∞—è, –¥–∞—Ç—á–∏–∫–∏ —à—É–º–Ω—ã–µ, –≤–µ—Ä—å –ì–ù–°–°".
*   **$R$ (–®—É–º –∏–∑–º–µ—Ä–µ–Ω–∏–π)**: –î–æ–≤–µ—Ä–∏–µ –∫ –ì–ù–°–°. –ï—Å–ª–∏ $R$ –±–æ–ª—å—à–æ–µ ‚Äî –º—ã –≥–æ–≤–æ—Ä–∏–º "–°–ø—É—Ç–Ω–∏–∫–∏ –≤—Ä—É—Ç, –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –ø–ª–æ—Ö–∞—è, –≤–µ—Ä—å –ò–ù–°".

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞ (Tuning) ‚Äî —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ –ø–æ–¥–±–æ—Ä–∞ –±–∞–ª–∞–Ω—Å–∞ –º–µ–∂–¥—É $Q$ –∏ $R$.**

***

### 3. –ö–∞–∫ —Å–≤—è–∑–∞–Ω—ã –õ–†1, –õ–†3 –∏ –õ–†4? –≠–≤–æ–ª—é—Ü–∏—è –§–∏–ª—å—Ç—Ä–∞ –ö–∞–ª–º–∞–Ω–∞

–¢–≤–æ–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —ç–≤–æ–ª—é—Ü–∏—é –ø–æ–¥—Ö–æ–¥–æ–≤ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:

**–õ–†1: –õ–∏–Ω–µ–π–Ω—ã–π –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ (Constant Velocity)**
–£ –Ω–∞—Å –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –ò–ù–° (–Ω–µ—Ç –≥–∏—Ä–æ—Å–∫–æ–ø–æ–≤ –∏ –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–æ–≤). –í –º–∞—Ç—Ä–∏—Ü–µ $F$ –º—ã –ø—Ä–æ—Å—Ç–æ —Ç—É–ø–æ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º: "–û–±—ä–µ–∫—Ç –≤—Å–µ–≥–¥–∞ –¥–≤–∏–∂–µ—Ç—Å—è –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é" (Constant Velocity). –ê –ì–ù–°–° –¥–∞–µ—Ç –Ω–∞–º –≥–æ—Ç–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã X,Y,Z. –§–∏–ª—å—Ç—Ä –ø—Ä–æ—Å—Ç–æ —Å–≥–ª–∞–∂–∏–≤–∞–µ—Ç —Å–∫–∞—á–∫–∏ –ì–ù–°–°. –ù–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞—Ö —ç—Ç–æ—Ç —Ñ–∏–ª—å—Ç—Ä —Å–∏–ª—å–Ω–æ –æ—à–∏–±–∞–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å (–¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ –ø—Ä—è–º–æ–π) –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é.

**–õ–†3: –°–ª–∞–±–æ—Å–≤—è–∑–∞–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ò–ù–°/–ì–ù–°–° (Loosely Coupled, ESKF)**
–¢—É—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –º–∞–≥–∏—è Error-State (–§–∏–ª—å—Ç—Ä –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –æ—à–∏–±–æ–∫). 
–ú—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–æ–≤ –∏ –≥–∏—Ä–æ—Å–∫–æ–ø–æ–≤, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é. –ê –≤ –≤–µ–∫—Ç–æ—Ä $x$ –§–∏–ª—å—Ç—Ä–∞ –ö–∞–ª–º–∞–Ω–∞ –º—ã –∫–ª–∞–¥–µ–º –Ω–µ —Å–∞–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∞ **–û–®–ò–ë–ö–ò –ò–ù–°** (–Ω–∞—Å–∫–æ–ª—å–∫–æ –ò–ù–° –Ω–∞–≤—Ä–∞–ª–∞). –ö–æ–≥–¥–∞ –æ—Ç –ì–ù–°–° –ø—Ä–∏—Ö–æ–¥—è—Ç –≥–æ—Ç–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã X,Y,Z, —Ñ–∏–ª—å—Ç—Ä –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É "–ò–ù–° –º–∏–Ω—É—Å –ì–ù–°–°", –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ò–ù–° –∏ –≤—ã—á–∏—Ç–∞–µ—Ç –µ—ë –∏–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è. 

**–õ–†4: –°–∏–ª—å–Ω–æ—Å–≤—è–∑–∞–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Tightly Coupled)**
–í—ã—Å—à–∏–π –ø–∏–ª–æ—Ç–∞–∂. –í –õ–†3, –µ—Å–ª–∏ –º—ã –≤–∏–¥–∏–º —Ç–æ–ª—å–∫–æ 3 —Å–ø—É—Ç–Ω–∏–∫–∞, –ì–ù–°–°-–ø—Ä–∏–µ–º–Ω–∏–∫ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å X,Y,Z (–º—ã —ç—Ç–æ –æ–±—Å—É–∂–¥–∞–ª–∏!). –ó–Ω–∞—á–∏—Ç, –õ–†3 —Å–ª–æ–º–∞–µ—Ç—Å—è –≤ —Ç—É–Ω–Ω–µ–ª–µ.
–ê –≤ –õ–†4 —Ñ–∏–ª—å—Ç—Ä –µ—Å—Ç –Ω–µ –≥–æ—Ç–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã X,Y,Z, –∞ **—Å—ã—Ä—ã–µ –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç –∫–∞–∂–¥–æ–≥–æ —Å–ø—É—Ç–Ω–∏–∫–∞ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏**. –í–∏–¥–∏–º 4 —Å–ø—É—Ç–Ω–∏–∫–∞ ‚Äî —Ñ–∏–ª—å—Ç—Ä –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ 4 –¥–∞–ª—å–Ω–æ—Å—Ç—è–º. –í–∏–¥–∏–º 2 —Å–ø—É—Ç–Ω–∏–∫–∞ ‚Äî —Ñ–∏–ª—å—Ç—Ä –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è! –û–Ω –ø—Ä–æ—Å—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —Ç–µ –æ—Å–∏, –≤–¥–æ–ª—å –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–æ—è—Ç —ç—Ç–∏ –¥–≤–∞ —Å–ø—É—Ç–Ω–∏–∫–∞, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—Å–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å—á–∏—Ç–∞—Ç—å –ø–æ –ò–ù–°. –≠—Ç–æ –¥–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å.

***

### üìù –í–æ–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –º—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –Ω–∞—à –õ–∏–Ω–µ–π–Ω—ã–π –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ –¥–ª—è –õ–†1. 
–ú—ã –∑–∞–¥–∞–ª–∏ –æ—á–µ–Ω—å **–±–æ–ª—å—à—É—é –º–∞—Ç—Ä–∏—Ü—É $Q$** (—à—É–º –ø—Ä–æ—Ü–µ—Å—Å–∞/–º–æ–¥–µ–ª–∏) –∏ –æ—á–µ–Ω—å **–º–∞–ª–µ–Ω—å–∫—É—é –º–∞—Ç—Ä–∏—Ü—É $R$** (—à—É–º –∏–∑–º–µ—Ä–µ–Ω–∏–π). 

*–ß—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Å –ª–∏–Ω–∏–µ–π –Ω–∞—à–µ–π –æ—Ü–µ–Ω–µ–Ω–Ω–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ (–≤—ã—Ö–æ–¥ —Ñ–∏–ª—å—Ç—Ä–∞) –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ —à—É–º–Ω—ã–º —Ç–æ—á–∫–∞–º –ì–ù–°–°? –ë—É–¥–µ—Ç –ª–∏ –æ–Ω–∞ –ø–ª–∞–≤–Ω–æ–π –∏ –≥–ª–∞–¥–∫–æ–π, –∏–ª–∏ –±—É–¥–µ—Ç –¥–µ—Ä–≥–∞–Ω–æ–π –∏ –ø—Ä—ã–≥–∞—Ç—å –≤—Å–ª–µ–¥ –∑–∞ –∫–∞–∂–¥–æ–π –∑–∞—à—É–º–ª–µ–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –ì–ù–°–°?*

***
***
–û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ—Å—å–±–∞! –î–∞–≤–∞–π –ø—Ä–µ–ø–∞—Ä–∏—Ä—É–µ–º –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ (–§–ö) –∫–∞–∫ —Ö–∏—Ä—É—Ä–≥–∏.

–ß—Ç–æ–±—ã –Ω–µ –∑–∞–ø—É—Ç–∞—Ç—å—Å—è –≤ –æ–≥—Ä–æ–º–Ω—ã—Ö –º–∞—Ç—Ä–∏—Ü–∞—Ö –õ–†3 –∏–ª–∏ –õ–†4 (–≥–¥–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ $17 \times 17$), –º—ã —Ä–∞–∑–±–µ—Ä–µ–º –≤—Å—ë –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–º, –Ω–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ: **–º—ã –µ–¥–µ–º –Ω–∞ –º–∞—à–∏–Ω–µ –ø–æ –ø—Ä—è–º–æ–π –¥–æ—Ä–æ–≥–µ, –∏ —Ö–æ—Ç–∏–º –∑–Ω–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞—à—É –ø–æ–∑–∏—Ü–∏—é –ø–æ –æ—Å–∏ $x$ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å $v$**. 

### –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π (–ß–∏—Ç—ã –¥–ª—è –≤—ã–∂–∏–≤–∞–Ω–∏—è)

–í –§–∏–ª—å—Ç—Ä–µ –ö–∞–ª–º–∞–Ω–∞ –≤—Å—ë –≤–µ—Ä—Ç–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ –¥–≤—É—Ö –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª:
*   **$n$** ‚Äî —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å **–≤–µ–∫—Ç–æ—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è** (—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º—ã –ø—ã—Ç–∞–µ–º—Å—è —É–≥–∞–¥–∞—Ç—å). –í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ $n = 2$ (–ø–æ–∑–∏—Ü–∏—è $x$ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å $v$).
*   **$m$** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **–∏–∑–º–µ—Ä–µ–Ω–∏–π** (—Å–∫–æ–ª—å–∫–æ –¥–∞—Ç—á–∏–∫–æ–≤ –º—ã –æ–ø—Ä–∞—à–∏–≤–∞–µ–º –∑–∞ –æ–¥–∏–Ω —Ç–∞–∫—Ç). –î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω GPS-–ø—Ä–∏–µ–º–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø–æ –æ—Å–∏ X. –ó–Ω–∞—á–∏—Ç, $m = 1$.

–ó–Ω–∞—è $n$ –∏ $m$, —Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞–µ—à—å —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –í–°–ï–• –º–∞—Ç—Ä–∏—Ü –≤ —Ñ–∏–ª—å—Ç—Ä–µ. –ï—Å–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ–º–Ω–æ–∂–µ–Ω–∏–∏ –º–∞—Ç—Ä–∏—Ü –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞, –ø—Ä–æ—Å—Ç–æ –≤—Å–ø–æ–º–Ω–∏ –ø—Ä–∞–≤–∏–ª–æ –∏–∑ –ª–∏–Ω–µ–π–Ω–æ–π –∞–ª–≥–µ–±—Ä—ã: –º–∞—Ç—Ä–∏—Ü—É $(a \times b)$ –º–æ–∂–Ω–æ —É–º–Ω–æ–∂–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –º–∞—Ç—Ä–∏—Ü—É $(b \times c)$.

***

### –î–µ–π—Å—Ç–≤—É—é—â–∏–µ –ª–∏—Ü–∞: –ú–∞—Ç—Ä–∏—Ü—ã –ø—Ä–æ–≥–Ω–æ–∑–∞ (–≠—Ç–∞–ø 1: Predict)

#### 1. –í–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{x}$
*   **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** $(n \times 1)$, —Ç–æ –µ—Å—Ç—å $(2 \times 1)$.
*   **–ß—Ç–æ —ç—Ç–æ:** –≠—Ç–æ –Ω–∞—à–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ç–æ–º, "–≥–¥–µ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –∏ –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –µ–¥–µ–º" –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.
*   **–ü—Ä–∏–º–µ—Ä:** $\mathbf{x} = \begin{bmatrix} x \\ v \end{bmatrix} = \begin{bmatrix} 100 \text{ –º} \\ 10 \text{ –º/—Å} \end{bmatrix}$

#### 2. –ú–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π $\mathbf{F}$ (–≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ $\mathbf{A}$)
*   **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** $(n \times n)$, —Ç–æ –µ—Å—Ç—å $(2 \times 2)$.
*   **–ß—Ç–æ —ç—Ç–æ:** –ó–∞–∫–æ–Ω—ã —Ñ–∏–∑–∏–∫–∏. –û–Ω–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å: *"–ï—Å–ª–∏ —è –±—ã–ª –≤ $\mathbf{x}$ —Å–µ–∫—É–Ω–¥—É –Ω–∞–∑–∞–¥, –≥–¥–µ —è –±—É–¥—É —Å–µ–π—á–∞—Å?"*. 
*   **–ö–∞–∫ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è:** –ò–∑ —à–∫–æ–ª—å–Ω–æ–π –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∏. $x_{new} = x_{old} + v_{old} \cdot \Delta t$. $v_{new} = v_{old}$ (–¥–æ–ø—É—Å–∫–∞–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å).
*   **–ü—Ä–∏–º–µ—Ä ($\Delta t = 1$ —Å–µ–∫):** $\mathbf{F} = \begin{bmatrix} 1 & 1 \\ 0 & 1 \end{bmatrix}$. –ï—Å–ª–∏ –º—ã —É–º–Ω–æ–∂–∏–º $\mathbf{F}$ –Ω–∞ –Ω–∞—à –≤–µ–∫—Ç–æ—Ä $\mathbf{x}$, –ø–æ–ª—É—á–∏–º –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ $\begin{bmatrix} 110 \\ 10 \end{bmatrix}$.

#### 3. –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–∏ –æ—à–∏–±–æ–∫ $\mathbf{P}$
*   **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** $(n \times n)$, —Ç–æ –µ—Å—Ç—å $(2 \times 2)$.
*   **–ß—Ç–æ —ç—Ç–æ:** –ù–∞—à **—É—Ä–æ–≤–µ–Ω—å —Å–æ–º–Ω–µ–Ω–∏–π**. –î–∏–∞–≥–æ–Ω–∞–ª—å ‚Äî —ç—Ç–æ –¥–∏—Å–ø–µ—Ä—Å–∏—è (–∫–≤–∞–¥—Ä–∞—Ç –æ—à–∏–±–∫–∏) –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –í–Ω–µ –¥–∏–∞–≥–æ–Ω–∞–ª–∏ ‚Äî –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è (–∫–∞–∫ –æ—à–∏–±–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—à–∏–±–∫—É –ø–æ–∑–∏—Ü–∏–∏).
*   **–ü—Ä–∏–º–µ—Ä:** $\mathbf{P} = \begin{bmatrix} 5 & 0 \\ 0 & 2 \end{bmatrix}$. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç "–º—ã —Å–æ–º–Ω–µ–≤–∞–µ–º—Å—è –≤ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ 5 –º¬≤, –∞ –≤ —Å–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞ 2 (–º/—Å)¬≤". –§–∏–ª—å—Ç—Ä –±—É–¥–µ—Ç —Å—Ç–∞—Ä–∞—Ç—å—Å—è —Å–¥–µ–ª–∞—Ç—å —ç—Ç–∏ —á–∏—Å–ª–∞ –∫–∞–∫ –º–æ–∂–Ω–æ –±–ª–∏–∂–µ –∫ –Ω—É–ª—é. –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ $\mathbf{P}$ **—Ä–∞—Å—Ç–µ—Ç**, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã —ç–∫—Å—Ç—Ä–∞–ø–æ–ª–∏—Ä—É–µ–º –≤ –±—É–¥—É—â–µ–µ –∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ–º –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å.

#### 4. –ö–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —à—É–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ $\mathbf{Q}$
*   **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** $(n \times n)$, —Ç–æ –µ—Å—Ç—å $(2 \times 2)$.
*   **–ß—Ç–æ —ç—Ç–æ:** –≠—Ç–æ –Ω–∞—à —É—á–µ—Ç —Ç–æ–≥–æ, —á—Ç–æ "—Ñ–∏–∑–∏–∫–∞ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–∞". –ú—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–∏, —á—Ç–æ –µ–¥–µ–º —Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é, –Ω–æ –º–∞—à–∏–Ω–∞ –º–æ–≥–ª–∞ –Ω–∞–µ—Ö–∞—Ç—å –Ω–∞ –∫–æ—á–∫—É –∏–ª–∏ –ø–æ–¥—É–ª –≤—Å—Ç—Ä–µ—á–Ω—ã–π –≤–µ—Ç–µ—Ä. –≠—Ç–∞ –º–∞—Ç—Ä–∏—Ü–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —à—É–º –∫ –Ω–∞—à–µ–π –º–∞—Ç—Ä–∏—Ü–µ $\mathbf{P}$ –Ω–∞ –∫–∞–∂–¥–æ–º —Ç–∞–∫—Ç–µ.
*   **–ö–∞–∫ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è:** –ß–∞—Å—Ç–æ —ç—Ç–æ —Å–∞–º–æ–µ —Å–ª–æ–∂–Ω–æ–µ. –î–ª—è –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∏ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ñ–æ—Ä–º—É–ª—ã –≤—ã–≤–æ–¥–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞–ª—ã –æ—Ç –±–µ–ª–æ–≥–æ —à—É–º–∞ —É—Å–∫–æ—Ä–µ–Ω–∏—è. –í —Ç–≤–æ–µ–º —Ñ–∞–π–ª–µ `kalman.py` —Ç—ã –º–æ–≥ –≤–∏–¥–µ—Ç—å —Å—Ç—Ä–∞—à–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –≤—Ä–æ–¥–µ $\frac{\Delta t^4}{4}$ ‚Äî —ç—Ç–æ –∏–º–µ–Ω–Ω–æ –æ–Ω–∏. [reddit](https://www.reddit.com/r/AskEngineers/comments/fzmpw6/determining_covariance_matrices_q_and_r_for/)

***

### –î–µ–π—Å—Ç–≤—É—é—â–∏–µ –ª–∏—Ü–∞: –ú–∞—Ç—Ä–∏—Ü—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ (–≠—Ç–∞–ø 2: Update)

#### 5. –í–µ–∫—Ç–æ—Ä –∏–∑–º–µ—Ä–µ–Ω–∏–π $\mathbf{z}$
*   **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** $(m \times 1)$, —Ç–æ –µ—Å—Ç—å $(1 \times 1)$.
*   **–ß—Ç–æ —ç—Ç–æ:** –¢–æ, —á—Ç–æ –ø—Ä–∏–ª–µ—Ç–µ–ª–æ –æ—Ç –¥–∞—Ç—á–∏–∫–∞ (GPS). 
*   **–ü—Ä–∏–º–µ—Ä:** $\mathbf{z} = \begin{bmatrix} 112 \end{bmatrix}$. GPS –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –º—ã –Ω–∞ –æ—Ç–º–µ—Ç–∫–µ 112 –º–µ—Ç—Ä–æ–≤, —Ö–æ—Ç—è –ø–æ —Ñ–∏–∑–∏–∫–µ ($\mathbf{F} \times \mathbf{x}$) –º—ã –æ–∂–∏–¥–∞–ª–∏ –±—ã—Ç—å –Ω–∞ 110 –º–µ—Ç—Ä–∞—Ö. –í–æ–∑–Ω–∏–∫–∞–µ—Ç **–Ω–µ–≤—è–∑–∫–∞ (innovation)**: $y = 112 - 110 = 2$ –º–µ—Ç—Ä–∞.

#### 6. –ú–∞—Ç—Ä–∏—Ü–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π $\mathbf{H}$ (–∏–ª–∏ $\mathbf{C}$)
*   **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** $(m \times n)$, —Ç–æ –µ—Å—Ç—å $(1 \times 2)$.
*   **–ß—Ç–æ —ç—Ç–æ:** "–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫". –û–Ω –±–µ—Ä–µ—Ç –Ω–∞—à —Å–ª–æ–∂–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{x}$ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å) –∏ "–≤—ã—Ä–µ–∑–∞–µ—Ç" –∏–∑ –Ω–µ–≥–æ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ —Å–ø–æ—Å–æ–±–µ–Ω –∏–∑–º–µ—Ä–∏—Ç—å –¥–∞—Ç—á–∏–∫. 
*   **–ö–∞–∫ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è:** –ï—Å–ª–∏ –¥–∞—Ç—á–∏–∫ –∏–∑–º–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏—é $x$, —Ç–æ –º—ã —Å—Ç–∞–≤–∏–º 1 –Ω–∞–ø—Ä–æ—Ç–∏–≤ –ø–æ–∑–∏—Ü–∏–∏ –∏ 0 –Ω–∞–ø—Ä–æ—Ç–∏–≤ —Å–∫–æ—Ä–æ—Å—Ç–∏.
*   **–ü—Ä–∏–º–µ—Ä:** $\mathbf{H} = \begin{bmatrix} 1 & 0 \end{bmatrix}$. –ü—Ä–∏ —É–º–Ω–æ–∂–µ–Ω–∏–∏ $\mathbf{H} \times \begin{bmatrix} x \\ v \end{bmatrix}$ –º—ã –ø–æ–ª—É—á–∞–µ–º –ø—Ä–æ—Å—Ç–æ $x$. 

#### 7. –ö–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —à—É–º–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π $\mathbf{R}$
*   **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** $(m \times m)$, —Ç–æ –µ—Å—Ç—å $(1 \times 1)$.
*   **–ß—Ç–æ —ç—Ç–æ:** –£—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è –∫ –¥–∞—Ç—á–∏–∫—É. –ó–∞–¥–∞–µ—Ç—Å—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ GPS –æ—à–∏–±–∞–µ—Ç—Å—è –≤ —Å—Ä–µ–¥–Ω–µ–º –Ω–∞ 3 –º–µ—Ç—Ä–∞, –¥–∏—Å–ø–µ—Ä—Å–∏—è $\mathbf{R} = 3^2 = 9$. –ï—Å–ª–∏ –º—ã –∑–∞–µ—Ö–∞–ª–∏ –≤ —Ç—É–Ω–Ω–µ–ª—å, –º—ã –≤—Ä—É—á–Ω—É—é —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º $\mathbf{R}$ –¥–æ 1000, –≥–æ–≤–æ—Ä—è —Ñ–∏–ª—å—Ç—Ä—É: "–î–∞—Ç—á–∏–∫ —Å–æ—à–µ–ª —Å —É–º–∞, –∏–≥–Ω–æ—Ä–∏—Ä—É–π –µ–≥–æ".

#### 8. –ú–∞—Ç—Ä–∏—Ü–∞ —É—Å–∏–ª–µ–Ω–∏—è –ö–∞–ª–º–∞–Ω–∞ $\mathbf{K}$ (Kalman Gain)
*   **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** $(n \times m)$, —Ç–æ –µ—Å—Ç—å $(2 \times 1)$.
*   **–ß—Ç–æ —ç—Ç–æ:** –ì–ª–∞–≤–Ω—ã–π —Å—É–¥—å—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ. –≠—Ç–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞ —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –Ω—É–∂–Ω–æ –¥–æ–≤–µ—Ä—è—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—É, –∞ –Ω–∞ —Å–∫–æ–ª—å–∫–æ ‚Äî –¥–∞—Ç—á–∏–∫—É.
*   **–ü—Ä–∏–º–µ—Ä:** $\mathbf{K} = \begin{bmatrix} 0.8 \\ 0.2 \end{bmatrix}$. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç: "–ü–æ–∑–∏—Ü–∏—é —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 80% –æ—Ç –Ω–µ–≤—è–∑–∫–∏, –∞ —Å–∫–æ—Ä–æ—Å—Ç—å (—Ö–æ—Ç—å –º—ã –µ–µ –Ω–∞–ø—Ä—è–º—É—é –∏ –Ω–µ –∏–∑–º–µ—Ä—è–ª–∏!) —Å–ª–µ–≥–∫–∞ –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ 20%".

***

### –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–ü—Ä–æ –±–∞–ª–∞–Ω—Å $\mathbf{Q}$ –∏ $\mathbf{R}$)

–¢—ã —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω—è–ª —Å—É—Ç—å, –µ—Å–ª–∏ –ø–æ–¥—É–º–∞–ª, —á—Ç–æ **–≥—Ä–∞—Ñ–∏–∫ –±—É–¥–µ—Ç –¥–µ—Ä–≥–∞–Ω—ã–º**. 
–≠—Ç–æ –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç—é–Ω–∏–Ω–≥–∞) –§–∏–ª—å—Ç—Ä–∞ –ö–∞–ª–º–∞–Ω–∞, –æ –∫–æ—Ç–æ—Ä–æ–º —á–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏: [ieeexplore.ieee](https://ieeexplore.ieee.org/document/11295402/)

*   –ï—Å–ª–∏ **$\mathbf{Q}$ –±–æ–ª—å—à–æ–µ, –∞ $\mathbf{R}$ –º–∞–ª–µ–Ω—å–∫–æ–µ**: –º—ã –≥–æ–≤–æ—Ä–∏–º —Ñ–∏–ª—å—Ç—Ä—É "–ú–æ—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å (–ò–ù–°) –æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ–ª—å–Ω–∞—è, –∞ –≤–æ—Ç GPS –∏–¥–µ–∞–ª–µ–Ω". –§–∏–ª—å—Ç—Ä –Ω–∞—á–Ω–µ—Ç —Å–ª–µ–ø–æ –ø—Ä—ã–≥–∞—Ç—å –∑–∞ –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–æ–π GPS, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–∞–º —à—É–º. –õ–∏–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –±—É–¥–µ—Ç –¥–µ—Ä–≥–∞–Ω–æ–π.
*   –ï—Å–ª–∏ **$\mathbf{Q}$ –º–∞–ª–µ–Ω—å–∫–æ–µ, –∞ $\mathbf{R}$ –±–æ–ª—å—à–æ–µ**: –º—ã –≥–æ–≤–æ—Ä–∏–º —Ñ–∏–ª—å—Ç—Ä—É "–ú–æ—è –ò–ù–° —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —à–≤–µ–π—Ü–∞—Ä—Å–∫–∏–µ —á–∞—Å—ã, –∞ GPS –≤—Ä–µ—Ç". –§–∏–ª—å—Ç—Ä –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ GPS –∏ –Ω–∞—Ä–∏—Å—É–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ –≥–ª–∞–¥–∫—É—é (–Ω–æ, –≤–æ–∑–º–æ–∂–Ω–æ, —É–ª–µ—Ç–∞—é—â—É—é –≤ —Å—Ç–æ—Ä–æ–Ω—É –∏–∑-–∑–∞ –¥—Ä–µ–π—Ñ–∞) –ª–∏–Ω–∏—é.

### –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –ú–∞–≥–∏—è –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{P}$

–ó–Ω–∞–µ—à—å, —á—Ç–æ —Å–∞–º–æ–µ –∫—Ä—É—Ç–æ–µ –≤ –ª–∏–Ω–µ–π–Ω–æ–º –§–∏–ª—å—Ç—Ä–µ –ö–∞–ª–º–∞–Ω–∞ (—Ç–∞–∫–æ–º, –∫–∞–∫ –≤ —Ç–≤–æ–µ–π –õ–†1)?
**–ú–∞—Ç—Ä–∏—Ü–∞ —Å–æ–º–Ω–µ–Ω–∏–π $\mathbf{P}$ –∏ –º–∞—Ç—Ä–∏—Ü–∞ —É—Å–∏–ª–µ–Ω–∏—è $\mathbf{K}$ –≤–æ–æ–±—â–µ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–∫–∞–∑–∞–Ω–∏–π –¥–∞—Ç—á–∏–∫–æ–≤ $\mathbf{z}$!** 
–ï—Å–ª–∏ —Ç—ã –ø–æ—Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ —Ñ–æ—Ä–º—É–ª—ã –≤ `kalman.py`, —Ç—ã —É–≤–∏–¥–∏—à—å, —á—Ç–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ $\mathbf{P}$ –∏ $\mathbf{K}$ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ $\mathbf{F}, \mathbf{H}, \mathbf{Q}$ –∏ $\mathbf{R}$. 

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∏–Ω–∂–µ–Ω–µ—Ä—ã –Ω–∞ —Ä–∞–∫–µ—Ç–∞—Ö –º–æ–≥—É—Ç –ø—Ä–æ—Å—á–∏—Ç–∞—Ç—å –º–∞—Ç—Ä–∏—Ü—É $\mathbf{K}$ –Ω–∞ —Å—É–ø–µ—Ä–∫–æ–º–ø—å—é—Ç–µ—Ä–µ –µ—â–µ **–¥–æ –ø–æ–ª–µ—Ç–∞**, –∑–∞–ª–æ–∂–∏—Ç—å —ç—Ç–æ—Ç –º–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª –≤ –ø–∞–º—è—Ç—å —Ä–∞–∫–µ—Ç—ã, –∏ –≤ –ø–æ–ª–µ—Ç–µ —Ä–∞–∫–µ—Ç–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–µ —É–º–Ω–æ–∂–µ–Ω–∏—è –≤–∏–¥–∞ $x_{new} = x_{old} + K \cdot y$. –≠—Ç–æ –∫–æ–ª–æ—Å—Å–∞–ª—å–Ω–æ —ç–∫–æ–Ω–æ–º–∏—Ç –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã! (–î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ EKF –∏–∑ –õ–†2-4 —ç—Ç–æ —É–∂–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–º –º–∞—Ç—Ä–∏—Ü—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è).

***
***
–≠—Ç–æ, –ø–æ–∂–∞–ª—É–π, —Å–∞–º—ã–π –≥–ª—É–±–æ–∫–∏–π –∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å –≤–æ –≤—Å–µ–π —Ç–µ–æ—Ä–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏. –û—Ç–∫—É–¥–∞ –≤–æ–æ–±—â–µ –†—É–¥–æ–ª—å—Ñ –ö–∞–ª–º–∞–Ω –≤ 1960 –≥–æ–¥—É –≤–∑—è–ª —ç—Ç–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è? –ü–æ—á–µ–º—É –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç –∏–º–µ–Ω–Ω–æ —Ç–∞–∫, –∞ –Ω–µ –∏–Ω–∞—á–µ?

–ù–∞ –∑–∞—â–∏—Ç–µ –∏–ª–∏ —ç–∫–∑–∞–º–µ–Ω–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ, –µ—Å–ª–∏ —Ç—ã –ø–æ–∫–∞–∂–µ—à—å, —á—Ç–æ –ø–æ–Ω–∏–º–∞–µ—à—å **–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç** —ç—Ç–∏—Ö —Ñ–æ—Ä–º—É–ª, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–∞—É—á–∏–ª –∏—Ö –Ω–∞–∏–∑—É—Å—Ç—å.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –¥–æ–∫–∞–∑–∞—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏—è –§–∏–ª—å—Ç—Ä–∞ –ö–∞–ª–º–∞–Ω–∞. –°–∞–º—ã–π –ø–æ–Ω—è—Ç–Ω—ã–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî —ç—Ç–æ –≤—ã–≤–æ–¥ —á–µ—Ä–µ–∑ **–¢–µ–æ—Ä–µ–º—É –ë–∞–π–µ—Å–∞** –∏ **—Å–≤–æ–π—Å—Ç–≤–∞ –ì–∞—É—Å—Å–æ–≤—Å–∫–∏—Ö (–Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö) —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π**. [ieeexplore.ieee](https://ieeexplore.ieee.org/document/9581918/)

–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç–æ—Ç "—Ñ–æ–∫—É—Å" —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.

***

### –°—É—Ç—å: –ú—ã —É–º–Ω–æ–∂–∞–µ–º "–∫–æ–ª–æ–∫–æ–ª—ã" (–ì–∞—É—Å—Å–∏–∞–Ω—ã)

–¢—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –ø–æ–º–Ω–∏—à—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≥—Ä–∞—Ñ–∏–∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (–ì–∞—É—Å—Å–∏–∞–Ω–∞) ‚Äî —ç—Ç–æ —Ç–∞–∫–æ–π "–∫–æ–ª–æ–∫–æ–ª".
–£ –Ω–µ–≥–æ –µ—Å—Ç—å –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
1. **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ (—Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, $\mu$)** ‚Äî —ç—Ç–æ –≤–µ—Ä—à–∏–Ω–∞ –∫–æ–ª–æ–∫–æ–ª–∞ (–Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ). –í –§–∏–ª—å—Ç—Ä–µ –ö–∞–ª–º–∞–Ω–∞ —ç—Ç–æ –Ω–∞—à –≤–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{x}$. [grdm](https://grdm.io/posts/kalman-filter-in-four-steps/)
2. **–î–∏—Å–ø–µ—Ä—Å–∏—è (—à–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–∫–æ–ª–∞, $\sigma^2$)** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –º—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã. –ß–µ–º —à–∏—Ä–µ –∫–æ–ª–æ–∫–æ–ª, —Ç–µ–º –±–æ–ª—å—à–µ —Å–æ–º–Ω–µ–Ω–∏–π. –í –§–∏–ª—å—Ç—Ä–µ –ö–∞–ª–º–∞–Ω–∞ —ç—Ç–æ –Ω–∞—à–∞ –º–∞—Ç—Ä–∏—Ü–∞ –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–∏ $\mathbf{P}$. [grdm](https://grdm.io/posts/kalman-filter-in-four-steps/)

**–í—Å—è —Å—É—Ç—å –§–∏–ª—å—Ç—Ä–∞ –ö–∞–ª–º–∞–Ω–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —á—É–¥–µ:**
> –ï—Å–ª–∏ –≤–∑—è—Ç—å –¥–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –ì–∞—É—Å—Å–∏–∞–Ω—ã –∏ —É–º–Ω–æ–∂–∏—Ç—å –∏—Ö –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ—Ç **–Ω–æ–≤–∞—è –ì–∞—É—Å—Å–∏–∞–Ω–∞**, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —ÉÃÅ–∂–µ (—Ç–æ–Ω—å—à–µ), —á–µ–º –æ–±–µ –∏—Å—Ö–æ–¥–Ω—ã–µ!

***

### –ö–∞–∫ –≤—ã–≤–æ–¥—è—Ç—Å—è —Ñ–æ—Ä–º—É–ª—ã —à–∞–≥–∞ "–ü—Ä–æ–≥–Ω–æ–∑" (Predict)?

–ù–∞–º –Ω—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å –Ω–∞—à–µ –±—É–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–æ–ª–æ–∫–æ–ª) –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—à–ª–æ–≥–æ –∫–æ–ª–æ–∫–æ–ª–∞ –∏ –∑–∞–∫–æ–Ω–æ–≤ —Ñ–∏–∑–∏–∫–∏. [gauthmath](https://www.gauthmath.com/solution/e9Yp16I4sly/Derive-the-Kalman-filter-using-Bayesian-)

**–£—Ä–∞–≤–Ω–µ–Ω–∏–µ 1: –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**
$$ \mathbf{x}_{predict} = \mathbf{F} \cdot \mathbf{x}_{old} $$
–¢—É—Ç –≤—Å—ë –ø—Ä–æ—Å—Ç–æ. –≠—Ç–æ –≥–æ–ª–∞—è —Ñ–∏–∑–∏–∫–∞ (–∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞). –¶–µ–Ω—Ç—Ä –Ω–∞—à–µ–≥–æ –∫–æ–ª–æ–∫–æ–ª–∞ —Å–º–µ—â–∞–µ—Ç—Å—è —Ç—É–¥–∞, –∫—É–¥–∞ –¥–∏–∫—Ç—É–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –≤—Ä–µ–º—è. [grdm](https://grdm.io/posts/kalman-filter-in-four-steps/)

**–£—Ä–∞–≤–Ω–µ–Ω–∏–µ 2: –ù–æ–≤–∞—è –¥–∏—Å–ø–µ—Ä—Å–∏—è (–Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)**
$$ \mathbf{P}_{predict} = \mathbf{F} \cdot \mathbf{P}_{old} \cdot \mathbf{F}^T + \mathbf{Q} $$
–û—Ç–∫—É–¥–∞ —ç—Ç–æ –±–µ—Ä–µ—Ç—Å—è? –ü–æ –ø—Ä–∞–≤–∏–ª–∞–º —Ç–µ–æ—Ä–∏–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π, –µ—Å–ª–∏ –º—ã —É–º–Ω–æ–∂–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –≤–µ–ª–∏—á–∏–Ω—É –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É $\mathbf{F}$, –µ–µ –¥–∏—Å–ø–µ—Ä—Å–∏—è —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –≤ –∫–≤–∞–¥—Ä–∞—Ç–µ. –í –º–∞—Ç—Ä–∏—á–Ω–æ–º –≤–∏–¥–µ "–∫–≤–∞–¥—Ä–∞—Ç" –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{F}$ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ $\mathbf{F} \cdot (...) \cdot \mathbf{F}^T$. [grdm](https://grdm.io/posts/kalman-filter-in-four-steps/)
–ê $\mathbf{Q}$ –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –¥–∏—Å–ø–µ—Ä—Å–∏—è —Å—É–º–º—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –≤–µ–ª–∏—á–∏–Ω (–Ω–∞—à–µ–≥–æ —Å—Ç–∞—Ä–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –Ω–æ–≤–æ–≥–æ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —à—É–º–∞ –º–æ–¥–µ–ª–∏ $\mathbf{Q}$) —Ä–∞–≤–Ω–∞ —Å—É–º–º–µ –∏—Ö –¥–∏—Å–ø–µ—Ä—Å–∏–π. [grdm](https://grdm.io/posts/kalman-filter-in-four-steps/)
*–ö–æ–ª–æ–∫–æ–ª —Å—Ç–∞–ª —à–∏—Ä–µ (–º—ã —Å—Ç–∞–ª–∏ –º–µ–Ω–µ–µ —É–≤–µ—Ä–µ–Ω—ã –≤ —Å–µ–±–µ).*

***

### –ö–∞–∫ –≤—ã–≤–æ–¥—è—Ç—Å—è —Ñ–æ—Ä–º—É–ª—ã —à–∞–≥–∞ "–ö–æ—Ä—Ä–µ–∫—Ü–∏—è" (Update)?

–ó–¥–µ—Å—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –º–∞–≥–∏—è –¢–µ–æ—Ä–µ–º—ã –ë–∞–π–µ—Å–∞. [gauthmath](https://www.gauthmath.com/solution/e9Yp16I4sly/Derive-the-Kalman-filter-using-Bayesian-)
–£ –Ω–∞—Å –µ—Å—Ç—å –¥–≤–∞ –∫–æ–ª–æ–∫–æ–ª–∞ (–¥–≤–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π):
1. **Prior (–ü—Ä–æ–≥–Ω–æ–∑):** –ù–∞—à –∫–æ–ª–æ–∫–æ–ª –∏–∑ —à–∞–≥–∞ Predict ($\mathbf{x}_{predict}$, —à–∏—Ä–∏–Ω–∞ $\mathbf{P}_{predict}$).
2. **Likelihood (–ò–∑–º–µ—Ä–µ–Ω–∏–µ):** –ö–æ–ª–æ–∫–æ–ª –æ—Ç GPS-–¥–∞—Ç—á–∏–∫–∞ (–∑–Ω–∞—á–µ–Ω–∏–µ $\mathbf{z}$, —à–∏—Ä–∏–Ω–∞ $\mathbf{R}$).

–ù–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ **Posterior (–ò—Ç–æ–≥–æ–≤—É—é –æ—Ü–µ–Ω–∫—É)**. –ü–æ –¢–µ–æ—Ä–µ–º–µ –ë–∞–π–µ—Å–∞:
$$ P(\text{–ò—Ç–æ–≥}) = \frac{P(\text{–ò–∑–º–µ—Ä–µ–Ω–∏–µ}) \times P(\text{–ü—Ä–æ–≥–Ω–æ–∑})}{\text{–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞}} $$

–ï—Å–ª–∏ –º—ã –≤–æ–∑—å–º–µ–º –¥–≤–µ —Ñ–æ—Ä–º—É–ª—ã –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (—Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ $e^{-\frac{(x-\mu)^2}{2\sigma^2}}$) –∏ –ø–µ—Ä–µ–º–Ω–æ–∂–∏–º –∏—Ö, —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç—ã —Å–ª–æ–∂–∞—Ç—Å—è. –ò –µ—Å–ª–∏ –º—ã —Ä–µ—à–∏–º —ç—Ç–æ –≥–∏–≥–∞–Ω—Ç—Å–∫–æ–µ –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ (—Ä–∞—Å–∫—Ä–æ–µ–º —Å–∫–æ–±–∫–∏ –∏ —Å–≥—Ä—É–ø–ø–∏—Ä—É–µ–º —á–ª–µ–Ω—ã), –º—ã –ø–æ–ª—É—á–∏–º —Ñ–æ—Ä–º—É–ª—ã –ö–∞–ª–º–∞–Ω–∞! [jamesstephen](https://www.jamesstephen.in/papers/8.pdf)

**–£—Ä–∞–≤–Ω–µ–Ω–∏–µ 3: –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ö–∞–ª–º–∞–Ω–∞ ($\mathbf{K}$)**
–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ—à–µ–Ω–∏—è –∞–ª–≥–µ–±—Ä—ã –≤—ã–ª–µ–∑–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –¥—Ä–æ–±—å, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, —á–µ–π –∫–æ–ª–æ–∫–æ–ª —ÉÃÅ–∂–µ:
$$ \mathbf{K} = \frac{\text{–ù–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∞}}{\text{–ù–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∞} + \text{–®—É–º –¥–∞—Ç—á–∏–∫–∞}} $$
–í –º–∞—Ç—Ä–∏—á–Ω–æ–º –≤–∏–¥–µ:
$$ \mathbf{K} = \mathbf{P}_{predict} \mathbf{H}^T (\mathbf{H} \mathbf{P}_{predict} \mathbf{H}^T + \mathbf{R})^{-1} $$
–ï—Å–ª–∏ $\mathbf{R}$ (—à—É–º –¥–∞—Ç—á–∏–∫–∞) —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ –Ω—É–ª—é, —Ç–æ $\mathbf{K}$ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ 1 (–º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–µ—Ä–∏–º –¥–∞—Ç—á–∏–∫—É). [jamesstephen](https://www.jamesstephen.in/papers/8.pdf)

**–£—Ä–∞–≤–Ω–µ–Ω–∏–µ 4: –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
$$ \mathbf{x}_{new} = \mathbf{x}_{predict} + \mathbf{K} (\mathbf{z} - \mathbf{H} \mathbf{x}_{predict}) $$
–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ–æ—Ä–º—É–ª–∞ —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ! –¶–µ–Ω—Ç—Ä –Ω–∞—à–µ–≥–æ –Ω–æ–≤–æ–≥–æ –∫–æ–ª–æ–∫–æ–ª–∞ –±—É–¥–µ—Ç –ª–µ–∂–∞—Ç—å –≥–¥–µ-—Ç–æ –º–µ–∂–¥—É –ø—Ä–æ–≥–Ω–æ–∑–æ–º –∏ –∏–∑–º–µ—Ä–µ–Ω–∏–µ–º. –°–¥–≤–∏–≥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–µ—Å–∞ $\mathbf{K}$. [grdm](https://grdm.io/posts/kalman-filter-in-four-steps/)

**–£—Ä–∞–≤–Ω–µ–Ω–∏–µ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏**
$$ \mathbf{P}_{new} = (\mathbf{I} - \mathbf{K} \mathbf{H}) \mathbf{P}_{predict} $$
–¢–∞–∫ –∫–∞–∫ –º—ã —É–º–Ω–æ–∂–∏–ª–∏ –¥–≤–∞ –∫–æ–ª–æ–∫–æ–ª–∞, –Ω–æ–≤—ã–π –∫–æ–ª–æ–∫–æ–ª —Å—Ç–∞–ª —Ç–æ–Ω—å—à–µ. –£—Ä–∞–≤–Ω–µ–Ω–∏–µ –≥–æ–≤–æ—Ä–∏—Ç: –Ω–∞—à–∞ –Ω–æ–≤–∞—è –¥–∏—Å–ø–µ—Ä—Å–∏—è $\mathbf{P}_{new}$ ‚Äî —ç—Ç–æ —Å—Ç–∞—Ä–∞—è –¥–∏—Å–ø–µ—Ä—Å–∏—è $\mathbf{P}_{predict}$, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –º—ã **–æ—Ç–Ω—è–ª–∏** —á–∞—Å—Ç—å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏ (–±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ—Ç –¥–∞—Ç—á–∏–∫–∞). [grdm](https://grdm.io/posts/kalman-filter-in-four-steps/)

***

### –†–µ–∑—é–º–µ –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

–ï—Å–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —Å–ø—Ä–æ—Å–∏—Ç: *"–ü–æ—á–µ–º—É —É—Ä–∞–≤–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ –ö–∞–ª–º–∞–Ω–∞ –≤—ã–≥–ª—è–¥—è—Ç –∏–º–µ–Ω–Ω–æ —Ç–∞–∫?"*

–ò–¥–µ–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –∑–≤—É—á–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
> "–§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ ‚Äî —ç—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –±–∞–π–µ—Å–æ–≤—Å–∫–æ–º –≤—ã–≤–æ–¥–µ. –ï—Å–ª–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ —à—É–º—ã –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –∏–∑–º–µ—Ä–µ–Ω–∏–π –ø–æ–¥—á–∏–Ω—è—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É (–≥–∞—É—Å—Å–æ–≤—Å–∫–æ–º—É) —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é, —Ç–æ –ø–æ –¢–µ–æ—Ä–µ–º–µ –ë–∞–π–µ—Å–∞ –ø–µ—Ä–µ–º–Ω–æ–∂–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–º–µ—Ä–µ–Ω–∏–π –æ—Ç –¥–∞—Ç—á–∏–∫–∞ –¥–∞–µ—Ç –Ω–æ–≤–æ–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.
> –£—Ä–∞–≤–Ω–µ–Ω–∏—è —à–∞–≥–∞ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ (Update) ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–µ–¥–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è –∏ –¥–∏—Å–ø–µ—Ä—Å–∏–∏ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ö–∞–ª–º–∞–Ω–∞ ($\mathbf{K}$) –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å–ª–µ–¥ –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{P}$, —Ç–æ –µ—Å—Ç—å –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω—É—é –æ—à–∏–±–∫—É –Ω–∞—à–µ–π –æ—Ü–µ–Ω–∫–∏." [ieeexplore.ieee](https://ieeexplore.ieee.org/document/9581918/)

–≠—Ç–æ—Ç –æ—Ç–≤–µ—Ç –ø–æ–∫–∞–∂–µ—Ç –≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤—ã–¥—É–º–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã, –∞ —á–∏—Å—Ç–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ø–æ–∏—Å–∫ —Ç–æ—á–∫–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏!

***
***
–≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –Ω–∞—Å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫ –∂–µ—Å—Ç–∫–æ–π –ª–∏–Ω–µ–π–Ω–æ–π –∞–ª–≥–µ–±—Ä–µ.

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è —ç—Ç–∏ "–∫–≤–∞–¥—Ä–∞—Ç—ã" –º–∞—Ç—Ä–∏—Ü –∏ –º–∞—Ç—Ä–∏—á–Ω—ã–µ –¥—Ä–æ–±–∏, –¥–∞–≤–∞–π –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –∑–∞–∫–æ–Ω—ã —Ç–µ–æ—Ä–∏–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –º–Ω–æ–≥–æ–º–µ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ (–∫–æ–≥–¥–∞ —É –Ω–∞—Å –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $x$, –∞ —Ü–µ–ª—ã–π –≤–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö $\mathbf{x}$).

### 1. –û—Ç–∫—É–¥–∞ –±–µ—Ä–µ—Ç—Å—è "–∫–≤–∞–¥—Ä–∞—Ç" –º–∞—Ç—Ä–∏—Ü—ã: $\mathbf{F} \mathbf{P} \mathbf{F}^T$

–í—Å–ø–æ–º–Ω–∏–º –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π (—à–∫–æ–ª—å–Ω—ã–π) —Å–ª—É—á–∞–π. 
–ü—É—Å—Ç—å —É –Ω–∞—Å –µ—Å—Ç—å —Å–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $x$ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—à–∞ –ø–æ–∑–∏—Ü–∏—è) —Å –¥–∏—Å–ø–µ—Ä—Å–∏–µ–π $\sigma_x^2$. 
–ú—ã —Ä–µ—à–∞–µ–º —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞—à—É –ø–æ–∑–∏—Ü–∏—é –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É $a$ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –º–µ—Ç—Ä—ã –≤ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä—ã, $a = 100$). –ù–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: $y = a \cdot x$.
–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –¥–∏—Å–ø–µ—Ä—Å–∏—è? –ü–æ –∑–∞–∫–æ–Ω–∞–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: 
$$ \sigma_y^2 = a^2 \cdot \sigma_x^2 $$
–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ –∫–≤–∞–¥—Ä–∞—Ç–µ.

**–ê —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–π –º–∏—Ä (–º–∞—Ç—Ä–∏—Ü—ã).**
–ù–∞—à –≤–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{x}$ ‚Äî —ç—Ç–æ —Å–ª—É—á–∞–π–Ω—ã–π –≤–µ–∫—Ç–æ—Ä. –ï–≥–æ "–¥–∏—Å–ø–µ—Ä—Å–∏—è" ‚Äî —ç—Ç–æ –º–∞—Ç—Ä–∏—Ü–∞ –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–∏ $\mathbf{P}$. [en.wikipedia](https://en.wikipedia.org/wiki/Covariance_matrix)
–ú—ã —É–º–Ω–æ–∂–∞–µ–º –Ω–∞—à –≤–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–∞ $\mathbf{F}$ (—ç—Ç–æ –Ω–∞—à–∞ –º–Ω–æ–≥–æ–º–µ—Ä–Ω–∞—è "–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞"):
$$ \mathbf{x}_{new} = \mathbf{F} \cdot \mathbf{x} $$

–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –º–∞—Ç—Ä–∏—Ü–∞ $\mathbf{P}$? –ú—ã –Ω–µ –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤–µ—Å—Ç–∏ –º–∞—Ç—Ä–∏—Ü—É $\mathbf{F}$ –≤ –∫–≤–∞–¥—Ä–∞—Ç ($\mathbf{F}^2$) –∏ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ $\mathbf{P}$, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –ª–∏–Ω–µ–π–Ω–æ–π –∞–ª–≥–µ–±—Ä–µ –ø–æ—Ä—è–¥–æ–∫ —É–º–Ω–æ–∂–µ–Ω–∏—è –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –∏ –º—ã –ø–æ–ª—É—á–∏–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏.

–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ (—á–µ—Ä–µ–∑ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ $E$) –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
–î–∏—Å–ø–µ—Ä—Å–∏—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é ‚Äî —ç—Ç–æ $E[(\mathbf{x}_{new} - E[\mathbf{x}_{new}])(\mathbf{x}_{new} - E[\mathbf{x}_{new}])^T]$.
–ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º $\mathbf{x}_{new} = \mathbf{F} \mathbf{x}$:
$$ \mathbf{P}_{new} = E[(\mathbf{F}\mathbf{x} - \mathbf{F}\bar{\mathbf{x}})(\mathbf{F}\mathbf{x} - \mathbf{F}\bar{\mathbf{x}})^T] $$
–í—ã–Ω–æ—Å–∏–º $\mathbf{F}$ –∑–∞ —Å–∫–æ–±–∫–∏. –ù–æ –≤–Ω–∏–º–∞–Ω–∏–µ: –∫–æ–≥–¥–∞ –º—ã –≤—ã–Ω–æ—Å–∏–º –º–∞—Ç—Ä–∏—Ü—É –∏–∑ —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∫–æ–±–∫–∏ $(...)^T$, –º–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è $\mathbf{F}^T$, –∏ –≤—ã–Ω–æ—Å–∏—Ç—Å—è *–≤–ø—Ä–∞–≤–æ*! [youtube](https://www.youtube.com/watch?v=o1cC784jDDY)
$$ \mathbf{P}_{new} = \mathbf{F} \cdot E[(\mathbf{x} - \bar{\mathbf{x}})(\mathbf{x} - \bar{\mathbf{x}})^T] \cdot \mathbf{F}^T $$
–ê —Ç–æ, —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –≤–Ω—É—Ç—Ä–∏ $E[...]$ ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –Ω–∞—à–∞ —Å—Ç–∞—Ä–∞—è –º–∞—Ç—Ä–∏—Ü–∞ $\mathbf{P}$!
–û—Ç—Å—é–¥–∞ –∏ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —ç—Ç–æ—Ç –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–π —Å—ç–Ω–¥–≤–∏—á:
$$ \mathbf{P}_{new} = \mathbf{F} \mathbf{P} \mathbf{F}^T $$
–≠—Ç–æ –∏ –µ—Å—Ç—å **"–≤–æ–∑–≤–µ–¥–µ–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã –≤ –∫–≤–∞–¥—Ä–∞—Ç"** –≤ –º–∏—Ä–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. [janakiev](https://janakiev.com/blog/covariance-matrix/)

***

### 2. –û—Ç–∫—É–¥–∞ –±–µ—Ä–µ—Ç—Å—è —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ö–∞–ª–º–∞–Ω–∞ ($\mathbf{K}$)?

–§–æ—Ä–º—É–ª–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ $\mathbf{K}$ –≤ –§–∏–ª—å—Ç—Ä–µ –ö–∞–ª–º–∞–Ω–∞ –≤—ã–≥–ª—è–¥–∏—Ç –ø—É–≥–∞—é—â–µ:
$$ \mathbf{K} = \mathbf{P} \mathbf{H}^T (\mathbf{H} \mathbf{P} \mathbf{H}^T + \mathbf{R})^{-1} $$

–û—Ç–∫—É–¥–∞ –æ–Ω–∞ –≤–∑—è–ª–∞—Å—å? –ï–µ –≤—ã–≤–æ–¥—è—Ç —á–µ—Ä–µ–∑ **–º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—é –æ—à–∏–±–∫–∏** (Minimum Mean-Square Error - MMSE). –†—É–¥–æ–ª—å—Ñ –ö–∞–ª–º–∞–Ω —Ä–∞—Å—Å—É–∂–¥–∞–ª —Ç–∞–∫: [en.wikipedia](https://en.wikipedia.org/wiki/Kalman_filter)

**–®–∞–≥ 1. –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞**
–ú—ã —Ö–æ—Ç–∏–º –Ω–∞–π—Ç–∏ –Ω–æ–≤—É—é –æ—Ü–µ–Ω–∫—É $\mathbf{x}_{new}$. –õ–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—É–º–º–æ–π –Ω–∞—à–µ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ $\mathbf{x}_{pred}$ –∏ –∫–∞–∫–æ–π-—Ç–æ –ø–æ–ø—Ä–∞–≤–∫–∏. –ü–æ–ø—Ä–∞–≤–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–µ–≤—è–∑–∫–∏ $\mathbf{y} = (\mathbf{z} - \mathbf{H} \mathbf{x}_{pred})$ (—Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É —Ç–µ–º, —á—Ç–æ –º—ã –∏–∑–º–µ—Ä–∏–ª–∏, –∏ —Ç–µ–º, —á—Ç–æ –æ–∂–∏–¥–∞–ª–∏).
$$ \mathbf{x}_{new} = \mathbf{x}_{pred} + \mathbf{K} \mathbf{y} $$
–ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –Ω–∞–π—Ç–∏ –∏–¥–µ–∞–ª—å–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É $\mathbf{K}$.

**–®–∞–≥ 2. –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–æ–≤–∞—è –æ—à–∏–±–∫–∞?**
–ï—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∞–∫—É—é $\mathbf{x}_{new}$, —Ç–æ –Ω–∞—à–∞ –Ω–æ–≤–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–æ–º–Ω–µ–Ω–∏–π $\mathbf{P}_{new}$ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫ (–º—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–¥—Å—Ç–∞–≤–∏–ª–∏ —Ñ–æ—Ä–º—É–ª—É –≤—ã—à–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏—Å–ø–µ—Ä—Å–∏–∏ –∏ —Ä–∞—Å–∫—Ä—ã–ª–∏ —Å–∫–æ–±–∫–∏):
$$ \mathbf{P}_{new} = (\mathbf{I} - \mathbf{K}\mathbf{H}) \mathbf{P}_{pred} (\mathbf{I} - \mathbf{K}\mathbf{H})^T + \mathbf{K} \mathbf{R} \mathbf{K}^T $$
–ó–¥–µ—Å—å —Å–Ω–æ–≤–∞ –≤–∏–¥–Ω—ã —ç—Ç–∏ "—Å—ç–Ω–¥–≤–∏—á–∏" (—É–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É —Å–ª–µ–≤–∞ –∏ –Ω–∞ –µ–µ —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å–ø—Ä–∞–≤–∞).

**–®–∞–≥ 3. –ò—â–µ–º –º–∏–Ω–∏–º—É–º —Å –ø–æ–º–æ—â—å—é –º–∞—Ç–∞–Ω–∞–ª–∏–∑–∞ (–ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è)**
–ù–∞–º –Ω—É–∂–Ω–∞ —Ç–∞–∫–∞—è –º–∞—Ç—Ä–∏—Ü–∞ $\mathbf{K}$, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –æ–±—â–∞—è –æ—à–∏–±–∫–∞ –±—É–¥–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π. 
–ß—Ç–æ —Ç–∞–∫–æ–µ "–æ–±—â–∞—è –æ—à–∏–±–∫–∞" –≤ –º–∞—Ç—Ä–∏—Ü–µ $\mathbf{P}_{new}$? –≠—Ç–æ —Å—É–º–º–∞ –µ–µ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Å—É–º–º–∞ –¥–∏—Å–ø–µ—Ä—Å–∏–π –ø–æ X, Y, Z –∏ —Å–∫–æ—Ä–æ—Å—Ç—è–º). –í –ª–∏–Ω–µ–π–Ω–æ–π –∞–ª–≥–µ–±—Ä–µ —Å—É–º–º–∞ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–°–ª–µ–¥–æ–º –º–∞—Ç—Ä–∏—Ü—ã (Trace, $Tr$)**. [arxiv](https://arxiv.org/pdf/2103.07275.pdf)

–ú—ã —Ö–æ—Ç–∏–º –Ω–∞–π—Ç–∏ –º–∏–Ω–∏–º—É–º –°–ª–µ–¥–∞ –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{P}_{new}$.
–ö–∞–∫ –º—ã –∏—â–µ–º –º–∏–Ω–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –º–∞—Ç–∞–Ω–∞–ª–∏–∑–µ? –ë–µ—Ä–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é –∏ –ø—Ä–∏—Ä–∞–≤–Ω–∏–≤–∞–µ–º –µ–µ –∫ –Ω—É–ª—é!
–ú—ã –±–µ—Ä–µ–º –º–∞—Ç—Ä–∏—á–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é –æ—Ç $Tr(\mathbf{P}_{new})$ –ø–æ –º–∞—Ç—Ä–∏—Ü–µ $\mathbf{K}$ –∏ –ø—Ä–∏—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∫ $0$: [math.wustl](https://www.math.wustl.edu/~victor/classes/ma450/kalman.pdf)
$$ \frac{\partial Tr(\mathbf{P}_{new})}{\partial \mathbf{K}} = -2 (\mathbf{P}_{pred} \mathbf{H}^T) + 2 \mathbf{K} (\mathbf{H} \mathbf{P}_{pred} \mathbf{H}^T + \mathbf{R}) = 0 $$

**–®–∞–≥ 4. –®–∫–æ–ª—å–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞**
–¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –≤—ã—Ä–∞–∂–∞–µ–º $\mathbf{K}$ –∏–∑ —ç—Ç–æ–≥–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è. –ü–µ—Ä–µ–Ω–æ—Å–∏–º –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —á–∞—Å—Ç—å –≤–ø—Ä–∞–≤–æ, –¥–≤–æ–π–∫–∏ —Å–æ–∫—Ä–∞—â–∞—é—Ç—Å—è:
$$ \mathbf{K} (\mathbf{H} \mathbf{P}_{pred} \mathbf{H}^T + \mathbf{R}) = \mathbf{P}_{pred} \mathbf{H}^T $$
–ß—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å $\mathbf{K}$ –≤ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–µ, –Ω—É–∂–Ω–æ "—Ä–∞–∑–¥–µ–ª–∏—Ç—å" –æ–±–µ —á–∞—Å—Ç–∏ –Ω–∞ —Å–∫–æ–±–∫—É $(\mathbf{H} \mathbf{P}_{pred} \mathbf{H}^T + \mathbf{R})$. –ù–æ –≤ –º–∞—Ç—Ä–∏—Ü–∞—Ö –¥–µ–ª–µ–Ω–∏—è –Ω–µ—Ç, –≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ –µ—Å—Ç—å **—É–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É** (–≤–æ–∑–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–µ–ø–µ–Ω—å $-1$).
–£–º–Ω–æ–∂–∞–µ–º –æ–±–µ —á–∞—Å—Ç–∏ —Å–ø—Ä–∞–≤–∞ –Ω–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–∫–æ–±–∫—É –∏ –ø–æ–ª—É—á–∞–µ–º —Ç—É —Å–∞–º—É—é —Ñ–æ—Ä–º—É–ª—É:
$$ \mathbf{K} = \mathbf{P}_{pred} \mathbf{H}^T (\mathbf{H} \mathbf{P}_{pred} \mathbf{H}^T + \mathbf{R})^{-1} $$

**–ß—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –æ–∑–Ω–∞—á–∞–µ—Ç —ç—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞?**
–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –Ω–µ–µ –∫–∞–∫ –Ω–∞ –æ–±—ã—á–Ω—É—é –¥—Ä–æ–±—å –∏–∑ —Ç—Ä–µ—Ö —á–∏—Å–µ–ª: $K = \frac{P \cdot H}{H \cdot P \cdot H + R}$.
–°–∫–æ–±–∫–∞ —Å $^{-1}$ ‚Äî —ç—Ç–æ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å.
*   $(\mathbf{H} \mathbf{P}_{pred} \mathbf{H}^T)$ ‚Äî —ç—Ç–æ –Ω–∞—à–∞ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–≥–Ω–æ–∑–µ. –û–ø—è—Ç—å "—Å—ç–Ω–¥–≤–∏—á" —Å –º–∞—Ç—Ä–∏—Ü–µ–π $\mathbf{H}$! –ú—ã –≤–∑—è–ª–∏ –Ω–∞—à—É –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö ($\mathbf{P}$) –∏ —á–µ—Ä–µ–∑ –º–∞—Ç—Ä–∏—Ü—É $\mathbf{H}$ –ø–µ—Ä–µ–≤–µ–ª–∏ –µ–µ –≤ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∏–∑–º–µ—Ä–µ–Ω–∏–∏ –¥–∞—Ç—á–∏–∫–∞ (–≤ –ø—Å–µ–≤–¥–æ–¥–∞–ª—å–Ω–æ—Å—Ç—è—Ö).
*   $\mathbf{R}$ ‚Äî —ç—Ç–æ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (—à—É–º) —Å–∞–º–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞.
*   –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å ‚Äî —ç—Ç–æ **–æ–±—â–∞—è –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** —Å–∏—Å—Ç–µ–º—ã.
*   –ß–∏—Å–ª–∏—Ç–µ–ª—å ($\mathbf{P} \mathbf{H}^T$) ‚Äî —ç—Ç–æ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∞.

–í –∏—Ç–æ–≥–µ $\mathbf{K}$ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Ü–µ–Ω—Ç: **–¥–æ–ª—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤ –æ–±—â–µ–º –∫–æ—Ç–ª–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏**. [en.wikipedia](https://en.wikipedia.org/wiki/Kalman_filter)

–≠—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –≥–µ–Ω–∏–∞–ª—å–Ω—ã–π –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ö–∞–ª–º–∞–Ω —Å–æ–≤–µ—Ä—à–∏–ª, –æ–±—ä–µ–¥–∏–Ω–∏–≤ –º–∞—Ç—Ä–∏—á–Ω–æ–µ –∏—Å—á–∏—Å–ª–µ–Ω–∏–µ, –º–∞—Ç–∞–Ω–∞–ª–∏–∑ –∏ —Ç–µ–æ—Ä–∏—é –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π.

***
***
–≠—Ç–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —Å–∞–º–æ–µ —Å–µ—Ä–¥—Ü–µ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ –∏—Å—á–∏—Å–ª–µ–Ω–∏—è (Matrix Calculus). –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä–µ–º, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –±–µ—Ä–µ—Ç—Å—è —ç—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è —à–∞–≥ –∑–∞ —à–∞–≥–æ–º. [kalmanfilter](https://kalmanfilter.net/kalmanGain.html)

–ß—Ç–æ–±—ã –≤—Å—ë –ø–æ–ª—É—á–∏–ª–æ—Å—å, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –≤—Å–µ–≥–æ **—Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞ –≤–∑—è—Ç–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π –æ—Ç –°–ª–µ–¥–∞ –º–∞—Ç—Ä–∏—Ü—ã** (Trace). [en.wikipedia](https://en.wikipedia.org/wiki/Kalman_filter)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: 3 –ø—Ä–∞–≤–∏–ª–∞ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è

–í –ª–∏–Ω–µ–π–Ω–æ–π –∞–ª–≥–µ–±—Ä–µ —Å–ª–µ–¥ –º–∞—Ç—Ä–∏—Ü—ã $Tr(A)$ ‚Äî —ç—Ç–æ —Å—É–º–º–∞ –µ–µ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è —Å–ª–µ–¥–∞ –ø–æ –º–∞—Ç—Ä–∏—Ü–µ $X$ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è —á–µ—Ç–∫–∏–º –ø—Ä–∞–≤–∏–ª–∞–º, –ø–æ—Ö–æ–∂–∏–º –Ω–∞ —à–∫–æ–ª—å–Ω—ã–µ (–≥–¥–µ $A$ –∏ $B$ ‚Äî –º–∞—Ç—Ä–∏—Ü—ã-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –∞ $X$ ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º—ã –±–µ—Ä–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é):

1. **–ü—Ä–∞–≤–∏–ª–æ –ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏:** 
   –ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è —Å—É–º–º—ã —Ä–∞–≤–Ω–∞ —Å—É–º–º–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö.
   $\frac{\partial Tr(A + B)}{\partial X} = \frac{\partial Tr(A)}{\partial X} + \frac{\partial Tr(B)}{\partial X}$

2. **–ü—Ä–∞–≤–∏–ª–æ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π –ø–µ—Ä–≤–æ–π —Å—Ç–µ–ø–µ–Ω–∏ (–∞–Ω–∞–ª–æ–≥ $(aX)' = a$):**
   $\frac{\partial Tr(A X B)}{\partial X} = A^T B^T$
   $\frac{\partial Tr(A X^T B)}{\partial X} = B A$

3. **–ü—Ä–∞–≤–∏–ª–æ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π –≤—Ç–æ—Ä–æ–π —Å—Ç–µ–ø–µ–Ω–∏ (–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ–π —Ñ–æ—Ä–º—ã, –∞–Ω–∞–ª–æ–≥ $(aX^2)' = 2aX$):**
   $\frac{\partial Tr(X A X^T)}{\partial X} = X(A + A^T)$ 
   *–í–∞–∂–Ω–æ:* –ï—Å–ª–∏ –º–∞—Ç—Ä–∏—Ü–∞ $A$ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è (–∞ –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{P}$ –∏ $\mathbf{R}$ **–≤—Å–µ–≥–¥–∞** —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–µ –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ, $A = A^T$), —Ñ–æ—Ä–º—É–ª–∞ —É–ø—Ä–æ—â–∞–µ—Ç—Å—è –¥–æ:
   $\frac{\partial Tr(X A X^T)}{\partial X} = 2XA$

***

### –®–∞–≥ 1. –†–∞—Å–∫—Ä—ã–≤–∞–µ–º —Å–∫–æ–±–∫–∏ –≤ —É—Ä–∞–≤–Ω–µ–Ω–∏–∏

–í –ø—Ä–æ—à–ª–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –º—ã –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –Ω–∞ —Ç–æ–º, —á—Ç–æ –Ω–æ–≤–∞—è –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ $\mathbf{P}_{new}$ –∏–º–µ–µ—Ç –≤–∏–¥:
$$ \mathbf{P}_{new} = (\mathbf{I} - \mathbf{K}\mathbf{H}) \mathbf{P}_{pred} (\mathbf{I} - \mathbf{K}\mathbf{H})^T + \mathbf{K} \mathbf{R} \mathbf{K}^T $$

–ß—Ç–æ–±—ã –≤–∑—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é, –Ω–∞–º –Ω—É–∂–Ω–æ —Ä–∞—Å–∫—Ä—ã—Ç—å —ç—Ç–∏ —Å–∫–æ–±–∫–∏. [kalmanfilter](https://kalmanfilter.net/kalmanGain.html)
–°–Ω–∞—á–∞–ª–∞ —Ä–∞—Å–∫—Ä–æ–µ–º —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Ç–æ—Ä–æ–π —Å–∫–æ–±–∫–µ: $(\mathbf{I} - \mathbf{K}\mathbf{H})^T = \mathbf{I}^T - \mathbf{H}^T\mathbf{K}^T = \mathbf{I} - \mathbf{H}^T\mathbf{K}^T$.

–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–º–Ω–æ–∂–∞–µ–º:
$$ \mathbf{P}_{new} = \mathbf{P}_{pred} - \mathbf{K}\mathbf{H}\mathbf{P}_{pred} - \mathbf{P}_{pred}\mathbf{H}^T\mathbf{K}^T + \mathbf{K}\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T\mathbf{K}^T + \mathbf{K}\mathbf{R}\mathbf{K}^T $$

–ú—ã –º–æ–∂–µ–º —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–≤–∞ —Å–ª–∞–≥–∞–µ–º—ã—Ö, –≤—ã–Ω–µ—Å—è $\mathbf{K}$ –∏ $\mathbf{K}^T$:
$$ \mathbf{P}_{new} = \mathbf{P}_{pred} - \mathbf{K}\mathbf{H}\mathbf{P}_{pred} - \mathbf{P}_{pred}\mathbf{H}^T\mathbf{K}^T + \mathbf{K} (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R}) \mathbf{K}^T $$

### –®–∞–≥ 2. –ë–µ—Ä–µ–º —Å–ª–µ–¥ (Trace)

–ú—ã —Ö–æ—Ç–∏–º –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å $Tr(\mathbf{P}_{new})$. –ü—Ä–∏–º–µ–Ω—è–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä –°–ª–µ–¥–∞ –∫–æ –≤—Å–µ–º—É —É—Ä–∞–≤–Ω–µ–Ω–∏—é. –ü–æ –ø—Ä–∞–≤–∏–ª—É 1 (–ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å) –º—ã –º–æ–∂–µ–º —Ä–∞–∑–±–∏—Ç—å —ç—Ç–æ –Ω–∞ 4 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª–µ–¥–∞: [kalmanfilter](https://kalmanfilter.net/kalmanGain.html)
$$ Tr(\mathbf{P}_{new}) = Tr(\mathbf{P}_{pred}) - Tr(\mathbf{K}\mathbf{H}\mathbf{P}_{pred}) - Tr(\mathbf{P}_{pred}\mathbf{H}^T\mathbf{K}^T) + Tr\big(\mathbf{K} (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R}) \mathbf{K}^T\big) $$

*–•–∏—Ç—Ä–æ—Å—Ç—å:* –í –º–∞—Ç—Ä–∏—á–Ω–æ–π –∞–ª–≥–µ–±—Ä–µ —Å–ª–µ–¥ –º–∞—Ç—Ä–∏—Ü—ã —Ä–∞–≤–µ–Ω —Å–ª–µ–¥—É –µ–µ —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏: $Tr(A) = Tr(A^T)$. [arxiv](https://arxiv.org/pdf/2103.07275.pdf)
–ï—Å–ª–∏ –º—ã —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä—É–µ–º –º–∞—Ç—Ä–∏—Ü—É $\mathbf{K}\mathbf{H}\mathbf{P}_{pred}$, –º—ã –ø–æ–ª—É—á–∏–º $\mathbf{P}_{pred}^T\mathbf{H}^T\mathbf{K}^T$. –¢–∞–∫ –∫–∞–∫ $\mathbf{P}_{pred}$ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è, —ç—Ç–æ —Ä–∞–≤–Ω–æ $\mathbf{P}_{pred}\mathbf{H}^T\mathbf{K}^T$. 
–ó–Ω–∞—á–∏—Ç, –≤—Ç–æ—Ä–æ–µ –∏ —Ç—Ä–µ—Ç—å–µ —Å–ª–∞–≥–∞–µ–º—ã–µ –≤ —É—Ä–∞–≤–Ω–µ–Ω–∏–∏ –≤—ã—à–µ **–∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã**! –ú—ã –º–æ–∂–µ–º –∏—Ö –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å:
$$ Tr(\mathbf{P}_{new}) = Tr(\mathbf{P}_{pred}) - 2 \cdot Tr(\mathbf{K}\mathbf{H}\mathbf{P}_{pred}) + Tr\big(\mathbf{K} (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R}) \mathbf{K}^T\big) $$

### –®–∞–≥ 3. –ë–µ—Ä–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é –ø–æ $\mathbf{K}$

–ù–∞–∫–æ–Ω–µ—Ü, –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä—É–µ–º –ø–æ–ª—É—á–∏–≤—à–µ–µ—Å—è —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –º–∞—Ç—Ä–∏—Ü–µ $\mathbf{K}$ –∏ –ø—Ä–∏—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∫ –Ω—É–ª—é (–∏—â–µ–º —ç–∫—Å—Ç—Ä–µ–º—É–º): [digital.csic](https://digital.csic.es/bitstream/10261/30069/1/doc1.pdf)

$$ \frac{\partial Tr(\mathbf{P}_{new})}{\partial \mathbf{K}} = 0 $$

–î–∞–≤–∞–π –ø—Ä–æ–¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä—É–µ–º –∫–∞–∂–¥–æ–µ –∏–∑ —Ç—Ä–µ—Ö —Å–ª–∞–≥–∞–µ–º—ã—Ö:
1. $Tr(\mathbf{P}_{pred})$ ‚Äî –∑–¥–µ—Å—å –≤–æ–æ–±—â–µ –Ω–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π $\mathbf{K}$. –ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ä–∞–≤–Ω–∞ $0$.
2. $-2 \cdot Tr(\mathbf{K}\mathbf{H}\mathbf{P}_{pred})$. –ó–¥–µ—Å—å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **–ü—Ä–∞–≤–∏–ª–æ 2** ($\frac{\partial Tr(X B)}{\partial X} = B^T$). 
   –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º: $X = \mathbf{K}$, $B = \mathbf{H}\mathbf{P}_{pred}$.
   –ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è –±—É–¥–µ—Ç: $-2 \cdot (\mathbf{H}\mathbf{P}_{pred})^T = -2 \cdot \mathbf{P}_{pred}^T\mathbf{H}^T = -2\mathbf{P}_{pred}\mathbf{H}^T$.
3. $Tr\big(\mathbf{K} (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R}) \mathbf{K}^T\big)$. –ó–¥–µ—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $\mathbf{K}$ —Å—Ç–æ–∏—Ç –∏ —Å–ª–µ–≤–∞, –∏ —Å–ø—Ä–∞–≤–∞ (–≤ –∫–≤–∞–¥—Ä–∞—Ç–µ). –ò—Å–ø–æ–ª—å–∑—É–µ–º **–ü—Ä–∞–≤–∏–ª–æ 3** ($\frac{\partial Tr(X A X^T)}{\partial X} = 2XA$).
   –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º: $X = \mathbf{K}$, $A = (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R})$. –≠—Ç–∞ –º–∞—Ç—Ä–∏—Ü–∞ $A$ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞.
   –ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è –±—É–¥–µ—Ç: $2 \mathbf{K} (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R})$.

### –®–∞–≥ 4. –°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ

–°–∫–ª–∞–¥—ã–≤–∞–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∏ –ø—Ä–∏—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∫ –Ω—É–ª—é:
$$ -2\mathbf{P}_{pred}\mathbf{H}^T + 2 \mathbf{K} (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R}) = 0 $$

–î–µ–ª–∏–º –æ–±–µ —á–∞—Å—Ç–∏ –Ω–∞ 2:
$$ -\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{K} (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R}) = 0 $$
$$ \mathbf{K} (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R}) = \mathbf{P}_{pred}\mathbf{H}^T $$

–î–æ–º–Ω–æ–∂–∞–µ–º —Å–ø—Ä–∞–≤–∞ –Ω–∞ –æ–±—Ä–∞—Ç–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è:
$$ \mathbf{K} = \mathbf{P}_{pred}\mathbf{H}^T (\mathbf{H}\mathbf{P}_{pred}\mathbf{H}^T + \mathbf{R})^{-1} $$

**–í–æ—Ç –∏ –≤—Å—ë!** [digital.csic](https://digital.csic.es/bitstream/10261/30069/1/doc1.pdf)

### –†–µ–∑—é–º–µ –º–∞–≥–∏–∏
–í–µ—Å—å —Å–µ–∫—Ä–µ—Ç –∫—Ä–æ–µ—Ç—Å—è –≤ —Å–≤–æ–π—Å—Ç–≤–µ —Å–ª–µ–¥–∞ (Trace). –°–ª–µ–¥ –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—É–º–º–∞ –¥–∏—Å–ø–µ—Ä—Å–∏–π (–æ—à–∏–±–æ–∫) –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞—à–µ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ (–ø–æ–∑–∏—Ü–∏–∏, —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Ç.–¥.). –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É—è —ç—Ç–æ—Ç —Å–ª–µ–¥ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è, –º—ã –Ω–∞—Ö–æ–¥–∏–º —Ç–∞–∫—É—é –º–∞—Ç—Ä–∏—Ü—É $\mathbf{K}$, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π —Å—É–º–º–∞—Ä–Ω–∞—è –æ—à–∏–±–∫–∞ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∞–º–æ–π –º–∞–ª–µ–Ω—å–∫–æ–π –∏–∑ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.